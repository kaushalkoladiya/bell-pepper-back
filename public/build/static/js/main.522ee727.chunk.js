(this["webpackJsonpbell-pepper"]=this["webpackJsonpbell-pepper"]||[]).push([[0],{776:function(e,t){},790:function(e,t){},792:function(e,t){},986:function(e,t,n){},987:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(23),i=n.n(c),o=n(8),s=n(25),l=n(9),d=n.n(l),u=n(15),j=(n(596),n(115));j.Chart.helpers.extend(j.Chart.elements.Rectangle.prototype,{draw:function(){var e,t,n,a,r,c,i,o,s=this._chart.ctx,l=this._view,d=l.borderWidth,u=this._chart.config.options.cornerRadius;if(u<0&&(u=0),"undefined"===typeof u&&(u=0),l.horizontal?(e=l.base,t=l.x,n=l.y-l.height/2,a=l.y+l.height/2,r=t>e?1:-1,c=1,i=l.borderSkipped||"left"):(e=l.x-l.width/2,t=l.x+l.width/2,n=l.y,r=1,c=(a=l.base)>n?1:-1,i=l.borderSkipped||"bottom"),d){var j=Math.min(Math.abs(e-t),Math.abs(n-a)),b=(d=d>j?j:d)/2,p=e+("left"!==i?b*r:0),O=t+("right"!==i?-b*r:0),x=n+("top"!==i?b*c:0),m=a+("bottom"!==i?-b*c:0);p!==O&&(n=x,a=m),x!==m&&(e=p,t=O)}s.beginPath(),s.fillStyle=l.backgroundColor,s.strokeStyle=l.borderColor,s.lineWidth=d;var f=[[e,a],[e,n],[t,n],[t,a]],h=["bottom","left","top","right"].indexOf(i,0);function g(e){return f[(h+e)%4]}-1===h&&(h=0);var v=g(0);s.moveTo(v[0],v[1]);for(var y=1;y<4;y+=1){v=g(y);var C=y+1;4===C&&(C=0);var k=f[2][0]-f[1][0],I=f[0][1]-f[1][1],S=f[1][0],w=f[1][1];if((o=u)>Math.abs(I)/2&&(o=Math.floor(Math.abs(I)/2)),o>Math.abs(k)/2&&(o=Math.floor(Math.abs(k)/2)),I<0){var N=S,D=S+k,T=w+I,E=w+I,A=S,_=S+k,B=w,R=w;s.moveTo(A+o,B),s.lineTo(_-o,R),s.quadraticCurveTo(_,R,_,R-o),s.lineTo(D,E+o),s.quadraticCurveTo(D,E,D-o,E),s.lineTo(N+o,T),s.quadraticCurveTo(N,T,N,T+o),s.lineTo(A,B-o),s.quadraticCurveTo(A,B,A+o,B)}else if(k<0){var L=S+k,U=S,F=w,W=w,P=S+k,M=S,V=w+I,G=w+I;s.moveTo(P+o,V),s.lineTo(M-o,G),s.quadraticCurveTo(M,G,M,G-o),s.lineTo(U,W+o),s.quadraticCurveTo(U,W,U-o,W),s.lineTo(L+o,F),s.quadraticCurveTo(L,F,L,F+o),s.lineTo(P,V-o),s.quadraticCurveTo(P,V,P+o,V)}else s.moveTo(S+o,w),s.lineTo(S+k-o,w),s.quadraticCurveTo(S+k,w,S+k,w+o),s.lineTo(S+k,w+I-o),s.quadraticCurveTo(S+k,w+I,S+k-o,w+I),s.lineTo(S+o,w+I),s.quadraticCurveTo(S,w+I,S,w+I-o),s.lineTo(S,w+o),s.quadraticCurveTo(S,w,S+o,w)}s.fill(),d&&s.stroke()}});var b=n(21),p=n(154),O=n(16),x=n.n(O),m=n(1073),f="SET_ADMIN",h="UNSET_ADMIN",g="SET_ADMIN_DATA",v=function(e){return{type:f,payload:e}},y=function(e){return{type:g,payload:e}},C=n(121),k=n(539),I=n(4),S="GET_USERS",w={data:[]},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case S:return Object(I.a)(Object(I.a)({},e),{},{data:a});default:return e}},D="GET_VENDOR",T="DELETE_VENDOR",E={data:[]},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case D:return Object(I.a)(Object(I.a)({},e),{},{data:a});case T:return Object(I.a)(Object(I.a)({},e),{},{data:e.data.filter((function(e){return e._id!==a}))});default:return e}},_=n(26),B=n(24),R="GET_SERVICE",L="OPEN_SERVICE_DIALOG",U="CLOSE_SERVICE_DIALOG",F="ADD_NEW_SERVICE",W="UPDATE_SERVICE",P="DELETE_SERVICE",M="TOGGLE_SHOW",V="UPDATE_SERVICE_DETAILS",G="CLEAR_SERVICE_DETAILS",z={frequency:[],hour:[],staff:[],detail:[]},q={data:[],dialogId:null,isDialogOpen:!1,cleaning:z},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case R:return Object(I.a)(Object(I.a)({},e),{},{data:a});case L:return Object(I.a)(Object(I.a)({},e),{},{dialogId:a||null,isDialogOpen:!0});case U:return Object(I.a)(Object(I.a)({},e),{},{dialogId:null,isDialogOpen:!1});case F:var r=Object(B.a)(e.data);return r.unshift(a),Object(I.a)(Object(I.a)({},e),{},{data:r});case W:return Object(I.a)(Object(I.a)({},e),{},{data:e.data.map((function(e){return e._id===a.id?a.data:e}))});case P:return Object(I.a)(Object(I.a)({},e),{},{data:e.data.filter((function(e){return e._id!==a}))});case M:return Object(I.a)(Object(I.a)({},e),{},{data:e.data.map((function(e){return e._id===a.id?Object(I.a)(Object(I.a)({},e),{},{show:!e.show}):e}))});case V:return a.multiple?Object(I.a)(Object(I.a)({},e),{},{cleaning:Object(I.a)(Object(I.a)({},e.cleaning),a.data)}):Object(I.a)(Object(I.a)({},e),{},{cleaning:Object(I.a)(Object(I.a)({},e.cleaning),{},Object(_.a)({},a.key,a.value))});case G:return Object(I.a)(Object(I.a)({},e),{},{cleaning:z});default:return e}},Y="GET_BOOKING",J="DELETE_BOOKING",$="OPEN_BOOKING_DIALOG",K="CLOSE_BOOKING_DIALOG",X="OPEN_STAFF_ASSIGN_DIALOG",Q="CLOSE_STAFF_ASSIGN_DIALOG",Z="ASSIGN_STAFF",ee="OPEN_VENDOR_ASSIGN_DIALOG",te="CLOSE_VENDOR_ASSIGN_DIALOG",ne="ASSIGN_VENDOR",ae={data:[],dialogId:null,isDialogOpen:!1,isStaffDialogOpen:!1,serviceId:null,bookingId:null,isVendorDialogOpen:!1},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case Y:return Object(I.a)(Object(I.a)({},e),{},{data:a});case $:return Object(I.a)(Object(I.a)({},e),{},{dialogId:a,isDialogOpen:!0});case K:return Object(I.a)(Object(I.a)({},e),{},{dialogId:null,isDialogOpen:!1});case X:return Object(I.a)(Object(I.a)({},e),{},{vendorId:a.vendorId,bookingId:a.bookingId,isStaffDialogOpen:!0});case Q:return Object(I.a)(Object(I.a)({},e),{},{vendorId:null,bookingId:null,isStaffDialogOpen:!1});case Z:return Object(I.a)(Object(I.a)({},e),{},{data:e.data.map((function(e){return e._id===a.bookingId?Object(I.a)(Object(I.a)({},e),{},{staffId:a.bookingData.staffId}):e}))});case ee:return Object(I.a)(Object(I.a)({},e),{},{bookingId:a.bookingId,isVendorDialogOpen:!0});case te:return Object(I.a)(Object(I.a)({},e),{},{bookingId:null,isVendorDialogOpen:!1});case ne:return Object(I.a)(Object(I.a)({},e),{},{data:e.data.map((function(e){return e._id===a.bookingId?Object(I.a)(Object(I.a)({},e),{},{vendorId:a.bookingData.vendorId}):e}))});case J:return Object(I.a)(Object(I.a)({},e),{},{data:e.data.filter((function(e){return e._id!==a}))});default:return e}};function ce(e){return e?(localStorage.setItem("token",e),x.a.defaults.headers.common.Authorization="Bearer ".concat(e)):(localStorage.removeItem("token"),delete x.a.defaults.headers.common.Authorization)}n(707);var ie={isAuth:!1,data:{},userType:null},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case f:return ce(a.token),localStorage.setItem("userType",a.userType),Object(I.a)(Object(I.a)({},e),{},{isAuth:!0,userType:a.userType});case g:return Object(I.a)(Object(I.a)({},e),{},{data:a});case h:return ce(),localStorage.removeItem("userType"),Object(I.a)(Object(I.a)({},e),{},{data:{},isAuth:!1,userType:null});default:return e}},se="GET_STAFF",le="OPEN_STAFF_DIALOG",de="CLOSE_STAFF_DIALOG",ue="ADD_NEW_STAFF",je="UPDATE_STAFF",be="DELETE_STAFF",pe={data:[]},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case se:return Object(I.a)(Object(I.a)({},e),{},{data:a});case le:return Object(I.a)(Object(I.a)({},e),{},{dialogId:a||null,isDialogOpen:!0});case de:return Object(I.a)(Object(I.a)({},e),{},{dialogId:null,isDialogOpen:!1});case ue:var r=Object(B.a)(e.data);return r.unshift(a),Object(I.a)(Object(I.a)({},e),{},{data:r});case je:return Object(I.a)(Object(I.a)({},e),{},{data:e.data.map((function(e){return e._id===a.id?a.data:e}))});case be:return Object(I.a)(Object(I.a)({},e),{},{data:e.data.filter((function(e){return e._id!==a}))});default:return e}},xe="GET_CATEGORY",me="OPEN_CATEGORY_DIALOG",fe="CLOSE_CATEGORY_DIALOG",he="ADD_NEW_CATEGORY",ge="UPDATE_CATEGORY",ve="DELETE_CATEGORY",ye="TOGGLE_SHOW",Ce={data:[],dialogId:null,isDialogOpen:!1},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case xe:return Object(I.a)(Object(I.a)({},e),{},{data:a});case me:return Object(I.a)(Object(I.a)({},e),{},{dialogId:a||null,isDialogOpen:!0});case fe:return Object(I.a)(Object(I.a)({},e),{},{dialogId:null,isDialogOpen:!1});case he:var r=Object(B.a)(e.data);return r.unshift(a),Object(I.a)(Object(I.a)({},e),{},{data:r});case ge:return Object(I.a)(Object(I.a)({},e),{},{data:e.data.map((function(e){return e._id===a.id?a.data:e}))});case ve:return Object(I.a)(Object(I.a)({},e),{},{data:e.data.filter((function(e){return e._id!==a}))});case ye:return Object(I.a)(Object(I.a)({},e),{},{data:e.data.map((function(e){return e._id===a.id?Object(I.a)(Object(I.a)({},e),{},{show:!e.show}):e}))});default:return e}},Ie="GET_BANNER",Se="OPEN_BANNER_DIALOG",we="CLOSE_BANNER_DIALOG",Ne="ADD_NEW_BANNER",De="DELETE_BANNER",Te="TOGGLE_IS_LIVE",Ee="TOGGLE_SHOW",Ae={data:[],isDialogOpen:!1},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case Ie:return Object(I.a)(Object(I.a)({},e),{},{data:a});case Se:return Object(I.a)(Object(I.a)({},e),{},{isDialogOpen:!0});case we:return Object(I.a)(Object(I.a)({},e),{},{isDialogOpen:!1});case Ne:var r=Object(B.a)(e.data);return r.unshift(a),Object(I.a)(Object(I.a)({},e),{},{data:r});case De:return Object(I.a)(Object(I.a)({},e),{},{data:e.data.filter((function(e){return e._id!==a}))});case Te:return Object(I.a)(Object(I.a)({},e),{},{data:e.data.map((function(e){return e._id===a.id?Object(I.a)(Object(I.a)({},e),{},{isLive:!e.isLive}):e}))});case Ee:return Object(I.a)(Object(I.a)({},e),{},{data:e.data.map((function(e){return e._id===a.id?Object(I.a)(Object(I.a)({},e),{},{show:!e.show}):e}))});default:return e}},Be="GET_TUTORIAL",Re="OPEN_TUTORIAL_DIALOG",Le="CLOSE_TUTORIAL_DIALOG",Ue="ADD_NEW_TUTORIAL",Fe="UPDATE_TUTORIAL",We="DELETE_TUTORIAL",Pe={data:[],dialogId:null,isDialogOpen:!1},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case Be:return Object(I.a)(Object(I.a)({},e),{},{data:a});case Re:return Object(I.a)(Object(I.a)({},e),{},{dialogId:a||null,isDialogOpen:!0});case Le:return Object(I.a)(Object(I.a)({},e),{},{dialogId:null,isDialogOpen:!1});case Ue:var r=Object(B.a)(e.data);return r.unshift(a),Object(I.a)(Object(I.a)({},e),{},{data:r});case Fe:return Object(I.a)(Object(I.a)({},e),{},{data:e.data.map((function(e){return e._id===a.id?a.data:e}))});case We:return Object(I.a)(Object(I.a)({},e),{},{data:e.data.filter((function(e){return e._id!==a}))});default:return e}},Ve="GET_VIDEO",Ge="OPEN_VIDEO_DIALOG",ze="CLOSE_VIDEO_DIALOG",qe="ADD_NEW_VIDEO",He="UPDATE_VIDEO",Ye="DELETE_VIDEO",Je={data:[],dialogId:null,isDialogOpen:!1},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case Ve:return Object(I.a)(Object(I.a)({},e),{},{data:a});case Ge:return Object(I.a)(Object(I.a)({},e),{},{dialogId:a||null,isDialogOpen:!0});case ze:return Object(I.a)(Object(I.a)({},e),{},{dialogId:null,isDialogOpen:!1});case qe:var r=Object(B.a)(e.data);return r.unshift(a),Object(I.a)(Object(I.a)({},e),{},{data:r});case He:return Object(I.a)(Object(I.a)({},e),{},{data:e.data.map((function(e){return e._id===a.id?a.data:e}))});case Ye:return Object(I.a)(Object(I.a)({},e),{},{data:e.data.filter((function(e){return e._id!==a}))});default:return e}},Ke="OPEN_SNACKBAR",Xe="CLOSE_SNACKBAR",Qe={isSnackOpen:!1,type:"success",message:""},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case Ke:return Object(I.a)(Object(I.a)({},e),{},{isSnackOpen:!0,type:a.type,message:a.message||"Unknown error!"});case Xe:return Object(I.a)(Object(I.a)({},e),{},{isSnackOpen:!1});default:return e}},et=[k.a],tt=Object(C.c)({user:N,vendor:A,service:H,booking:re,admin:oe,staff:Oe,category:ke,banner:_e,tutorial:Me,video:$e,UI:Ze}),nt=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):C.d)(C.a.apply(void 0,et)),at=Object(C.e)(tt,{},nt),rt=function(e){return{type:Ke,payload:e}},ct=n(1057),it=n(1059),ot=Object(ct.a)((function(){return Object(it.a)({"@global":{"*":{boxSizing:"border-box",margin:0,padding:0},html:{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",height:"100%",width:"100%"},body:{backgroundColor:"#f4f6f8",height:"100%",width:"100%"},a:{textDecoration:"none"},"#root":{height:"100%",width:"100%"}}})})),st=function(){return ot(),null},lt=n(580),dt=n(10),ut=["none","0 0 0 1px rgba(63,63,68,0.05), 0 1px 2px 0 rgba(63,63,68,0.15)","0 0 1px 0 rgba(0,0,0,0.31), 0 2px 2px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 5px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 8px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 9px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 10px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 11px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 12px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 13px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 14px 24px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 16px 28px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 18px 30px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 20px 32px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 22px 34px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 24px 36px -8px rgba(0,0,0,0.25)"],jt={fontFamily:"Quicksand",h1:{fontWeight:500,fontSize:35,letterSpacing:"-0.24px"},h2:{fontWeight:500,fontSize:29,letterSpacing:"-0.24px"},h3:{fontWeight:500,fontSize:24,letterSpacing:"-0.06px"},h4:{fontWeight:500,fontSize:20,letterSpacing:"-0.06px"},h5:{fontWeight:500,fontSize:16,letterSpacing:"-0.05px"},h6:{fontWeight:500,fontSize:14,letterSpacing:"-0.05px"},overline:{fontWeight:500}},bt=Object(lt.a)({palette:{background:{dark:"#F4F6F8",default:dt.a.common.white,paper:dt.a.common.white},primary:{light:dt.a.green[300],main:dt.a.green[500],dark:dt.a.green[700],contrastText:dt.a.common.white},secondary:{main:dt.a.lightGreen[500]},text:{primary:dt.a.blueGrey[900],secondary:dt.a.blueGrey[600]}},shadows:ut,typography:jt,overrides:{MuiTableCell:{root:{padding:2},body:{textAlign:"center"},head:{textAlign:"center",backgroundColor:"#f1f1f1",fontWeight:"bold"}},MuiTooltip:{tooltip:{backgroundColor:"rgba(0, 0, 0, 0.87)",color:"#f5f5f9",maxWidth:220,border:"1px solid #dadde9"},arrow:{color:"rgba(0, 0, 0)"}},MuiAlertTitle:{root:{fontVariant:"all-petite-caps",fontWeight:"bold"}}},props:{MuiIcon:{fontSize:"small"},MuiTooltip:{arrow:!0},MuiTextField:{variant:"standard",size:"small"},MuiSelect:{variant:"standard"},MuiFormControl:{variant:"outlined",size:"small",fullWidth:!0},MuiChip:{size:"small"}}}),pt="".concat("http://bellpepperhomes.com:5000/","api/v1"),Ot="ROOT_USER",xt=n(156),mt=n.n(xt),ft=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?mt()(e).format("DD/MM/YYYY HH:MM A, dddd"):mt()(e).format("DD/MM/YYYY")},ht=n(541),gt=n.n(ht);mt.a.extend(gt.a);var vt=function(e){return mt()(e).fromNow()},yt=n(22),Ct=n(2),kt=n.n(Ct),It=n(1),St=function(e){var t=e.component,n=e.isAuth,r=e.userType,c=Object(yt.a)(e,["component","isAuth","userType"]);return Object(It.jsx)(a.Fragment,{children:n?Object(It.jsx)(b.a,{to:r===Ot?"/admin/dashboard":"/partners/dashboard"}):Object(It.jsx)(b.c,Object(I.a)({element:Object(It.jsx)(t,{})},c))})};St.prototype={isAuth:kt.a.bool.isRequired,component:kt.a.object.isRequired};var wt=Object(o.b)((function(e){return{isAuth:e.admin.isAuth,userType:e.admin.userType}}))(St),Nt=function(e){var t=e.component,n=e.isAuth,r=Object(yt.a)(e,["component","isAuth"]);return Object(It.jsx)(a.Fragment,{children:n?Object(It.jsx)(b.c,Object(I.a)({element:Object(It.jsx)(t,{})},r)):Object(It.jsx)(b.a,{to:"/login"})})};Nt.prototype={isAuth:kt.a.bool.isRequired,component:kt.a.object.isRequired};var Dt=Object(o.b)((function(e){return{isAuth:e.admin.isAuth}}))(Nt),Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\s+/," ").split(" ").slice(0,2).map((function(e){return e&&e[0].toUpperCase()})).join("")},Et=function(e){return e||"-"},At=function(e){return e.length>=10?e.substr(0,7)+"...":e},_t=function(){var e=Object(u.a)(d.a.mark((function e(t,n,a){var r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a[n](t,a);case 3:return r=e.sent,c=r.data,e.abrupt("return",c);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,a){return e.apply(this,arguments)}}(),Bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Promise;p.b.promise(e,{loading:"Loading data",success:"Got the data!",error:"An error occur!"})},Rt=n(5),Lt=n(709),Ut=n(710),Ft=n.p+"static/media/icon.cfbaf2af.jpeg",Wt=function(e){return Object(It.jsx)("img",Object(I.a)(Object(I.a)({alt:"Logo",src:Ft},e),{},{style:{width:40,height:40,borderRadius:999}}))},Pt=Object(ct.a)({root:{},toolbar:{height:64}}),Mt=function(e){var t=e.className,n=Object(yt.a)(e,["className"]),a=Pt();return Object(It.jsx)(Lt.a,Object(I.a)(Object(I.a)({className:Object(Rt.a)(a.root,t),elevation:0},n),{},{children:Object(It.jsx)(Ut.a,{className:a.toolbar,children:Object(It.jsx)(s.b,{to:"/",children:Object(It.jsx)(Wt,{})})})}))},Vt=Object(ct.a)((function(e){return{root:{backgroundColor:e.palette.background.default,display:"flex",height:"100%",overflow:"hidden",width:"100%"},wrapper:{display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},contentContainer:{display:"flex",flex:"1 1 auto",overflow:"hidden"},content:{flex:"1 1 auto",height:"100%",overflow:"auto"}}})),Gt=function(){var e=Vt();return Object(It.jsxs)("div",{className:e.root,children:[Object(It.jsx)(Mt,{}),Object(It.jsx)("div",{className:e.wrapper,children:Object(It.jsx)("div",{className:e.contentContainer,children:Object(It.jsx)("div",{className:e.content,children:Object(It.jsx)(b.b,{})})})})]})},zt=n(993),qt=n(711),Ht=n(90),Yt=n(542),Jt=Object(a.forwardRef)((function(e,t){var n=e.children,a=e.title,r=void 0===a?"":a,c=Object(yt.a)(e,["children","title"]);return Object(It.jsxs)("div",Object(I.a)(Object(I.a)({ref:t},c),{},{children:[Object(It.jsx)(Yt.a,{children:Object(It.jsx)("title",{children:r})}),n]}))})),$t=Object(ct.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,height:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},image:{marginTop:50,display:"inline-block",maxWidth:"100%",width:560}}})),Kt=function(){var e=$t();return Object(It.jsx)(Jt,{className:e.root,title:"404",children:Object(It.jsx)(zt.a,{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",children:Object(It.jsxs)(qt.a,{maxWidth:"md",children:[Object(It.jsx)(Ht.a,{align:"center",color:"textPrimary",variant:"h1",children:"404: The page you are looking for isn\u2019t here"}),Object(It.jsx)(Ht.a,{align:"center",color:"textPrimary",variant:"subtitle2",children:"You either tried some shady route or you came here by mistake. Whichever it is, try using the navigation"}),Object(It.jsx)(zt.a,{textAlign:"center",children:Object(It.jsx)("img",{alt:"Under development",className:e.image,src:"https://images.hdqwalls.com/wallpapers/404-error-cyberpuk-girl-9x.jpg"})})]})})})},Xt=n(11),Qt=n(994),Zt=n(716),en=n(547),tn=n(991),nn=n(718),an=n(1061),rn=n(1062),cn=n(1063),on=n(1064),sn=n(1065),ln=n(1066),dn=n(1067),un=n(1068),jn=n(1069),bn=n(545),pn=n(712),On=n(713),xn=n(715),mn=n(546),fn=n.n(mn),hn=n(189),gn=n.n(hn),vn=Object(ct.a)((function(e){return{item:{display:"flex",paddingTop:0,paddingBottom:0},button:{color:e.palette.text.secondary,fontWeight:e.typography.fontWeightMedium,justifyContent:"flex-start",letterSpacing:0,padding:"10px 8px",textTransform:"none",width:"100%"},icon:{marginRight:e.spacing(1)},title:{marginRight:"auto"},active:{color:e.palette.primary.main,"& $title":{fontWeight:e.typography.fontWeightMedium},"& $icon":{color:e.palette.primary.main}},nested:{paddingLeft:e.spacing(2)},nestedItem:{paddingLeft:8,cursor:"pointer"},nestedIcon:{minWidth:0,color:e.palette.text.secondary},nestedTitle:{fontSize:"0.875rem !important"}}})),yn=function e(t){var n=t.className,r=t.href,c=t.icon,i=t.title,o=t.handleOnClick,l=t.nested,d=t.array,u=vn(),j=Object(a.useState)(!1),b=Object(Xt.a)(j,2),p=b[0],O=b[1];return o&&!l?Object(It.jsx)(bn.a,{className:Object(Rt.a)(u.item,n),disableGutters:!0,onClick:o,children:Object(It.jsxs)(pn.a,{activeclassname:u.active,className:u.button,children:[c&&Object(It.jsx)(c,{className:u.icon,size:"20"}),Object(It.jsx)("span",{className:u.title,children:i})]})}):Object(It.jsx)(a.Fragment,{children:l?Object(It.jsxs)(a.Fragment,{children:[Object(It.jsxs)(bn.a,{onClick:function(){return O(!p)},className:Object(Rt.a)(u.item,u.nestedItem,u.button),disableGutters:!0,children:[Object(It.jsx)(On.a,{className:u.nestedIcon,children:Object(It.jsx)(c,{className:u.icon,size:"20"})}),Object(It.jsx)("span",{className:Object(Rt.a)(u.title,u.nestedTitle),children:i}),p?Object(It.jsx)(fn.a,{}):Object(It.jsx)(gn.a,{})]}),Object(It.jsx)(xn.a,{in:p,timeout:"auto",unmountOnExit:!0,children:Object(It.jsx)(en.a,{component:"div",disablePadding:!0,children:null===d||void 0===d?void 0:d.map((function(t,n){var a=t.title,r=t.icon,c=t.href;return Object(It.jsx)(e,{className:u.nested,icon:r,title:a,href:c},n)}))})})]}):Object(It.jsx)(bn.a,{className:Object(Rt.a)(u.item,n),disableGutters:!0,children:Object(It.jsxs)(pn.a,{activeClassName:u.active,className:u.button,component:s.c,to:r,children:[c&&Object(It.jsx)(c,{className:u.icon,size:"20"}),Object(It.jsx)("span",{className:u.title,children:i})]})})})},Cn="../../../images/icon.jpeg",kn=Object(ct.a)((function(){return{mobileDrawer:{width:256},desktopDrawer:{width:256,top:64,height:"calc(100% - 64px)"},avatar:{cursor:"pointer",width:64,height:64}}})),In=function(e){var t=e.onMobileClose,n=e.openMobile,r=[],c=kn(),i=Object(b.g)(),l=Object(o.c)(),d=Object(b.h)(),u=Object(o.d)((function(e){return e.admin.data})),j=Object(o.d)((function(e){return e.admin.userType})),p=j===Ot,O="VENDOR_USER"===j;Object(a.useEffect)((function(){n&&t&&t()}),[i.pathname]);p?r=[{href:"/admin/dashboard",icon:an.a,title:"Dashboard"},{href:"/admin/banners",icon:rn.a,title:"Banners"},{array:[{href:"/admin/categories",icon:cn.a,title:"Main Services"},{href:"/admin/services",icon:cn.a,title:"Sub Services"}],nested:!0,title:"Services",icon:on.a},{array:[{href:"/admin/customers",icon:sn.a,title:"Customers"},{href:"/admin/staff",icon:sn.a,title:"Staffs"},{href:"/admin/vendors",icon:sn.a,title:"Vendors"}],nested:!0,title:"Users",icon:sn.a},{array:[{href:"/admin/booking/analytic",icon:an.a,title:"Analytic"},{href:"/admin/bookings",icon:ln.a,title:"Orders"},{href:"/admin/cleaning-bookings",icon:ln.a,title:"Cleaning Orders"}],nested:!0,title:"Bookings",icon:ln.a},{href:"/admin/tutorials",icon:dn.a,title:"Tutorials"},{href:"/admin/account",icon:un.a,title:"Account"}]:O&&(r=[{href:"/partners/dashboard",icon:an.a,title:"Dashboard"},{href:"/partners/staff",icon:sn.a,title:"Staffs"},{href:"/partners/bookings",icon:ln.a,title:"Bookings"},{href:"/partners/account",icon:un.a,title:"Account"}]);var x=Object(It.jsxs)(zt.a,{height:"100%",display:"flex",flexDirection:"column",children:[Object(It.jsxs)(zt.a,{alignItems:"center",display:"flex",flexDirection:"column",p:2,children:[Object(It.jsx)(Qt.a,{className:c.avatar,component:s.b,src:Cn,to:p?"/admin/account":"/partners/account"}),Object(It.jsx)(Ht.a,{className:c.name,color:"textPrimary",variant:"h5",children:u.name}),Object(It.jsx)(Ht.a,{color:"textSecondary",variant:"body2",children:u.email})]}),Object(It.jsx)(Zt.a,{}),Object(It.jsx)(zt.a,{p:2,children:Object(It.jsxs)(en.a,{children:[r.map((function(e,t){return Object(It.jsx)(yn,Object(I.a)({},e),t)})),Object(It.jsx)(yn,{icon:jn.a,title:"Log out",handleOnClick:function(){l({type:h}),d("/login",{replace:!0})}})]})}),Object(It.jsx)(zt.a,{flexGrow:1})]});return Object(It.jsxs)(It.Fragment,{children:[Object(It.jsx)(tn.a,{lgUp:!0,children:Object(It.jsx)(nn.a,{anchor:"left",classes:{paper:c.mobileDrawer},onClose:t,open:n,variant:"temporary",children:x})}),Object(It.jsx)(tn.a,{mdDown:!0,children:Object(It.jsx)(nn.a,{anchor:"left",classes:{paper:c.desktopDrawer},open:!0,variant:"persistent",children:x})})]})};In.defaultProps={onMobileClose:function(){},openMobile:!1};var Sn=In,wn=n(353),Nn=n(551),Dn=n.n(Nn),Tn=Object(ct.a)((function(){return{root:{},avatar:{width:60,height:60}}})),En=function(e){var t=e.className,n=e.onMobileNavOpen,a=Object(yt.a)(e,["className","onMobileNavOpen"]),r=Tn();return Object(It.jsx)(Lt.a,Object(I.a)(Object(I.a)({className:Object(Rt.a)(r.root,t),elevation:0},a),{},{children:Object(It.jsxs)(Ut.a,{children:[Object(It.jsx)(s.b,{to:"/",children:Object(It.jsx)(Wt,{})}),Object(It.jsx)(zt.a,{flexGrow:1}),Object(It.jsx)(tn.a,{lgUp:!0,children:Object(It.jsx)(wn.a,{color:"inherit",onClick:n,children:Object(It.jsx)(Dn.a,{})})})]})}))},An=Object(ct.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,display:"flex",height:"100%",overflow:"hidden",width:"100%"},wrapper:Object(_.a)({display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},e.breakpoints.up("lg"),{paddingLeft:256}),contentContainer:{display:"flex",flex:"1 1 auto",overflow:"hidden"},content:{flex:"1 1 auto",height:"100%",overflow:"auto"}}})),_n=function(){var e=An(),t=Object(a.useState)(!1),n=Object(Xt.a)(t,2),r=n[0],c=n[1];return Object(It.jsxs)("div",{className:e.root,children:[Object(It.jsx)(En,{onMobileNavOpen:function(){return c(!0)}}),Object(It.jsx)(Sn,{onMobileClose:function(){return c(!1)},openMobile:r}),Object(It.jsx)("div",{className:e.wrapper,children:Object(It.jsx)("div",{className:e.contentContainer,children:Object(It.jsx)("div",{className:e.content,children:Object(It.jsx)(b.b,{})})})})]})},Bn=n(724),Rn=n(346),Ln=n.n(Rn),Un=n(720),Fn=n(721),Wn="/static/images/avatars/avatar_6.png",Pn=Object(ct.a)((function(){return{root:{},avatar:{height:100,width:100}}})),Mn=function(e){var t=e.className,n=e.userData,a=Object(yt.a)(e,["className","userData"]),r=Pn();return Object(It.jsx)(Un.a,Object(I.a)(Object(I.a)({className:Object(Rt.a)(r.root,t)},a),{},{children:Object(It.jsx)(Fn.a,{children:Object(It.jsxs)(zt.a,{alignItems:"center",display:"flex",flexDirection:"column",children:[Object(It.jsx)(Qt.a,{className:r.avatar,src:Wn}),Object(It.jsx)(Ht.a,{color:"textPrimary",gutterBottom:!0,variant:"h3",children:n.name}),Object(It.jsx)(Ht.a,{color:"textSecondary",variant:"body1",children:n.email}),Object(It.jsx)(Ht.a,{className:r.dateText,color:"textSecondary",variant:"body1",children:"Joined ".concat(Ln()(n.createdAt).format("DD-MMM-YYYY  hh:mm A"))})]})})}))},Vn=n(723),Gn=n(725),zn=n(124),qn=n.n(zn),Hn=function(e){return qn()({title:"I hope sure what you are doing!",icon:"warning",dangerMode:!0,buttons:["No","Yes"],text:e})},Yn=function(){return qn()({title:"Opps! You don't have Permission.",icon:"error"})},Jn=function(){return qn()({title:"This operation is not allowed!",icon:"error"})},$n=function(e,t,n){return qn()(e,t,n)},Kn=function(e){var t=e.className,n=e.userData,r=Object(yt.a)(e,["className","userData"]),c=Object(o.c)(),i=Object(a.useState)({name:"",email:""}),s=Object(Xt.a)(i,2),l=s[0],j=s[1],b=Object(a.useState)({name:"",email:""}),p=Object(Xt.a)(b,2),O=p[0],m=p[1];Object(a.useEffect)((function(){return j({name:n.name,email:n.email}),function(){m({name:"",email:""})}}),[]);var f=function(e){j(Object(I.a)(Object(I.a)({},l),{},Object(_.a)({},e.target.name,e.target.value)))},h=function(){var e=Object(u.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.abrupt("return",qn()({title:"This section is under development!",icon:"error"}));case 6:if(""!==l.email){e.next=8;break}return e.abrupt("return",m(Object(I.a)(Object(I.a)({},O),{},{email:"Email is required!"})));case 8:return e.prev=8,e.next=11,x.a.patch("/admin",l);case 11:n=e.sent,a=n.data,c(y(a.data.admin)),$n("Done","Profile updated successfully!","success"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(8),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[8,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(It.jsx)("form",Object(I.a)(Object(I.a)({autoComplete:"off",noValidate:!0,className:t},r),{},{children:Object(It.jsxs)(Un.a,{children:[Object(It.jsx)(Vn.a,{subheader:"The information can be edited",title:"Profile"}),Object(It.jsx)(Zt.a,{}),Object(It.jsx)(Fn.a,{children:Object(It.jsxs)(Bn.a,{container:!0,spacing:3,children:[Object(It.jsx)(Bn.a,{item:!0,md:6,xs:12,children:Object(It.jsx)(Gn.a,{fullWidth:!0,helperText:"Please specify your name",error:!!O.name,label:"Name",name:"name",onChange:f,required:!0,value:l.name,variant:"outlined"})}),Object(It.jsx)(Bn.a,{item:!0,md:6,xs:12,children:Object(It.jsx)(Gn.a,{fullWidth:!0,helperText:"Please specify your email",error:!!O.email,label:"Email",name:"email",onChange:f,required:!0,value:l.email,variant:"outlined"})})]})}),Object(It.jsx)(Zt.a,{}),Object(It.jsx)(zt.a,{display:"flex",justifyContent:"flex-end",p:2,children:Object(It.jsx)(pn.a,{color:"primary",variant:"contained",onClick:h,children:"Save details"})})]})}))},Xn=Object(ct.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),Qn=function(){var e=Xn(),t=Object(o.d)((function(e){return e.admin.data}));return Object(It.jsx)(Jt,{className:e.root,title:"Account",children:Object(It.jsx)(qt.a,{maxWidth:"lg",children:Object(It.jsxs)(Bn.a,{container:!0,spacing:3,children:[Object(It.jsx)(Bn.a,{item:!0,lg:4,md:6,xs:12,children:Object(It.jsx)(Mn,{userData:t})}),Object(It.jsx)(Bn.a,{item:!0,lg:8,md:6,xs:12,children:Object(It.jsx)(Kn,{userData:t})})]})})})},Zn=Object(ct.a)((function(e){return{root:{},importButton:{marginRight:e.spacing(1)},exportButton:{marginRight:e.spacing(1)}}}));var ea=function(e){var t=e.className,n=e.title,a=e.hideAddButton,r=(e.onSearch,e.onAddButtonClick),c=e.component,i=e.backTitle,o=Object(yt.a)(e,["className","title","hideAddButton","onSearch","onAddButtonClick","component","backTitle"]),s=Zn();return Object(It.jsx)("div",Object(I.a)(Object(I.a)({className:Object(Rt.a)(s.root,t)},o),{},{children:Object(It.jsx)(zt.a,{mt:3,children:Object(It.jsx)(Un.a,{children:Object(It.jsxs)(Fn.a,{style:{display:"flex",alignItems:"center",justifyContent:!i&&"space-between"},children:[n&&Object(It.jsx)(Ht.a,{variant:"h4",children:n}),c&&Object(It.jsx)(zt.a,{minWidth:400,children:c}),i&&Object(It.jsx)(Ht.a,{variant:"h4",children:i}),!a&&Object(It.jsx)(zt.a,{display:"flex",justifyContent:"flex-end",children:Object(It.jsxs)(pn.a,{color:"primary",variant:"contained",onClick:r,children:["Add ",n]})})]})})})}))},ta=n(560),na=n.n(ta),aa={rows:{style:{}},headCells:{style:{fontWeight:"500",fontSize:"18px"}},cells:{style:{}}},ra=function(e){var t=e.data,n=e.title,a=e.columns,r=Object(yt.a)(e,["data","title","columns"]);return Object(It.jsx)(na.a,Object(I.a)({title:n,columns:a,data:t,customStyles:aa,responsive:!0,pagination:!0},r))},ca=n(729),ia=n(350),oa=n(1070),sa=function(e){var t=e.title,n=e.onSearch;return Object(It.jsx)(zt.a,{minWidth:400,children:Object(It.jsx)(Gn.a,{fullWidth:!0,InputProps:{startAdornment:Object(It.jsx)(ca.a,{position:"start",children:Object(It.jsx)(ia.a,{fontSize:"small",color:"action",children:Object(It.jsx)(oa.a,{})})})},placeholder:"Search ".concat(t),variant:"outlined",onChange:n})})},la=n(730),da=Object(ct.a)((function(e){return{root:{color:"#263238",fontSize:"0.875rem",fontFamily:"Quicksand",fontWeight:500,padding:0,minWidth:0,transition:"none",borderRadius:0,textTransform:"none",lineHeight:1.75,"&:hover":{backgroundColor:"transparent"}},text:{padding:0}}})),ua=function(e){var t=e.string,n=void 0===t?"":t,a=da();return Object(It.jsx)(la.a,{title:Et(n),children:Object(It.jsx)(pn.a,{disableElevation:!0,disableFocusRipple:!0,disableRipple:!0,disableTouchRipple:!0,variant:"text",onClick:function(){navigator.clipboard.writeText(n),Object(p.b)("Copy To Clipboard")},classes:{root:a.root,text:a.text},children:At(Et(n))})})},ja=Object(ct.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),ba=[{name:"UUID",cell:function(e){return Object(It.jsx)(ua,{string:e._id})}},{name:"Name",cell:function(e){return Object(It.jsx)(ua,{string:e.name})},sortable:!0},{name:"Email",cell:function(e){return Object(It.jsx)(ua,{string:e.email})},sortable:!0},{name:"Location",cell:function(e){return Object(It.jsx)(ua,{string:e.location})},sortable:!0},{name:"Phone",cell:function(e){return Object(It.jsx)(ua,{string:e.mobile})},sortable:!0},{name:"Gender",selector:"gender",sortable:!0},{name:"DOB",cell:function(e){return ft(e.dob)},sortable:!0},{name:"Lon-Lat",cell:function(e){return"".concat(e.lon," - ").concat(e.lat)},sortable:!0},{name:"City",selector:"city",sortable:!0},{name:"Joined On",cell:function(e){return ft(e.createdAt)},sortable:!0}],pa=function(){var e=ja(),t=Object(o.c)(),n=Object(o.d)((function(e){return e.user.data})),r=Object(a.useState)([]),c=Object(Xt.a)(r,2),i=c[0],s=c[1];Object(a.useEffect)((function(){s(n)}),[s,n]),Object(a.useEffect)((function(){(function(){var e=Object(u.a)(d.a.mark((function e(){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("/user");case 3:n=e.sent,a=n.data,t((r=a.data.users,{type:S,payload:r})),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}var r}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[t,n]);return Object(It.jsx)(Jt,{className:e.root,title:"Customers",children:Object(It.jsx)(qt.a,{maxWidth:!1,children:Object(It.jsx)(zt.a,{mt:3,children:Object(It.jsx)(ra,{data:i,title:"Customers",columns:ba,actions:Object(It.jsx)(sa,{title:"Customer",onSearch:function(e){var t=e.target.value.toUpperCase();if(t){var a=n.filter((function(e){var n,a,r,c,i,o,s,l,d,u,j,b,p,O,x,m;return(null===e||void 0===e||null===(n=e.name)||void 0===n||null===(a=n.toUpperCase())||void 0===a?void 0:a.indexOf(t))>-1||(null===e||void 0===e||null===(r=e.email)||void 0===r||null===(c=r.toUpperCase())||void 0===c?void 0:c.indexOf(t))>-1||(null===e||void 0===e||null===(i=e.mobile)||void 0===i||null===(o=i.toUpperCase())||void 0===o?void 0:o.indexOf(t))>-1||(null===e||void 0===e||null===(s=e.location)||void 0===s||null===(l=s.toUpperCase())||void 0===l?void 0:l.indexOf(t))>-1||(null===e||void 0===e||null===(d=e.lat)||void 0===d||null===(u=d.toUpperCase())||void 0===u?void 0:u.indexOf(t))>-1||(null===e||void 0===e||null===(j=e.gender)||void 0===j||null===(b=j.toUpperCase())||void 0===b?void 0:b.indexOf(t))>-1||(null===e||void 0===e||null===(p=e.dob)||void 0===p||null===(O=p.toUpperCase())||void 0===O?void 0:O.indexOf(t))>-1||(null===e||void 0===e||null===(x=e.city)||void 0===x||null===(m=x.toUpperCase())||void 0===m?void 0:m.indexOf(t))>-1}));s(a)}else s(n)}})})})})})},Oa=function(e){return{type:xe,payload:e}},xa=function(e){return{type:me,payload:e}},ma=function(e){return{type:he,payload:e}},fa=function(e){return{type:D,payload:e}},ha=n(566),ga=n.n(ha),va=function(e){var t=e.className,n=e.title,a=e.count,r=e.icon,c=e.color,i=e.url,o=Object(yt.a)(e,["className","title","count","icon","color","url"]),l=Object(ct.a)((function(e){return{root:{height:"100%"},avatar:{backgroundColor:c,height:56,width:56}}}))();return Object(It.jsx)(Un.a,Object(I.a)(Object(I.a)({className:Object(Rt.a)(l.root,t)},o),{},{children:Object(It.jsx)(Fn.a,{children:Object(It.jsxs)(Bn.a,{container:!0,justify:"space-between",spacing:3,component:s.b,to:i,children:[Object(It.jsxs)(Bn.a,{item:!0,children:[Object(It.jsx)(Ht.a,{color:"textSecondary",gutterBottom:!0,variant:"h6",children:n}),Object(It.jsx)(Ht.a,{color:"textPrimary",variant:"h3",children:Object(It.jsx)(ga.a,{start:0,end:a,duration:2.5,separator:","})})]}),Object(It.jsx)(Bn.a,{item:!0,children:Object(It.jsx)(Qt.a,{className:l.avatar,children:Object(It.jsx)(r,{})})})]})})}))},ya=n(123),Ca=n(567),ka=n.n(Ca),Ia=function(e){var t=e.date,n=e.onChange,a=e.title;return Object(It.jsxs)("div",{style:{margin:2},children:[Object(It.jsx)(Ht.a,{children:a}),Object(It.jsx)(ka.a,{onChange:n,value:t})]})},Sa=function(e){var t=e.data,n=e.title;return Object(It.jsx)("div",{children:Object(It.jsx)(j.Line,{data:{datasets:[{backgroundColor:dt.a.green[500],data:t.map((function(e){return e.count})),label:"Total ".concat(n),borderColor:"rgba(255, 99, 132, 1)",pointStyle:"circle",pointHoverBorderWidth:3,pointBackgroundColor:"rgba(255, 99, 132, 0.5)",pointBorderColor:"rgba(255, 99, 132, 1)",pointHoverRadius:15,pointRotation:5,pointRadius:5,fill:!1}],labels:t.map((function(e){return e.date}))},options:{scales:{yAxes:[{ticks:{min:0}}]}}})})},wa=Object(ct.a)((function(){return{dateContainer:{display:"flex"},cardHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0px 10px 5px 10px"},paper:{padding:10}}})),Na=function(e){var t=e.title,n=e.property,a=e.url,c=wa(),i=r.a.useState(new Date((new Date).setFullYear((new Date).getFullYear()-1))),o=Object(Xt.a)(i,2),s=o[0],l=o[1],j=r.a.useState(new Date),b=Object(Xt.a)(j,2),p=b[0],O=b[1],m=r.a.useState([]),f=Object(Xt.a)(m,2),h=f[0],g=f[1];return r.a.useEffect((function(){(function(){var e=Object(u.a)(d.a.mark((function e(){var t,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={startDate:s,endDate:p},e.next=4,x.a.post(a,t);case 4:r=e.sent,c=r.data,g(c.data[n]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[s,p,a,n]),Object(It.jsxs)(ya.a,{className:c.paper,children:[Object(It.jsxs)("div",{className:c.cardHeader,children:[Object(It.jsx)(Ht.a,{variant:"h4",children:t}),Object(It.jsxs)("div",{className:c.dateContainer,children:[Object(It.jsx)(Ia,{onChange:l,date:s,title:"Start From"}),Object(It.jsx)(Ia,{onChange:O,date:p,title:"To"})]})]}),Object(It.jsx)(Zt.a,{}),Object(It.jsx)(Sa,{data:h,title:t})]})},Da=Object(ct.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),Ta=function(){var e=Da(),t=Object(o.c)(),n=Object(o.d)((function(e){return e.admin.userType}))===Ot,r=Object(a.useState)({bookings:0,showBookings:!1,services:0,showServices:!1,staffs:0,showStaffs:!1,users:0,showUsers:!1,vendors:0,showVendors:!1,banners:0,showBanners:!1,categories:0,showCategories:!1,tutorials:0,showTutorials:!1,videos:0,showVideos:!1}),c=Object(Xt.a)(r,2),i=c[0],s=c[1];return Object(a.useEffect)((function(){n&&function(){var e=Object(u.a)(d.a.mark((function e(){var n,a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("/category");case 3:return n=e.sent,a=n.data,t(Oa(a.data.categories)),e.next=8,x.a.get("/vendor");case 8:r=e.sent,c=r.data,t(fa(c.data.vendors)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()()}),[t,n]),Object(a.useEffect)((function(){var e=x.a.get("/admin/dashboard").then((function(e){var t=e.data;return s(t.data)})).catch((function(e){return console.log(e)}));Bt(e)}),[s]),Object(It.jsx)(Jt,{className:e.root,title:"Dashboard",children:Object(It.jsxs)(qt.a,{maxWidth:!1,children:[Object(It.jsxs)(Bn.a,{container:!0,spacing:3,children:[i.showUsers&&Object(It.jsx)(Bn.a,{item:!0,lg:3,sm:6,xl:3,xs:12,children:Object(It.jsx)(va,{title:"Total Customers",count:i.users,icon:sn.a,color:dt.a.amber[600],url:"/".concat(n?"admin":"partners","/customers")})}),i.showVendors&&Object(It.jsx)(Bn.a,{item:!0,lg:3,sm:6,xl:3,xs:12,children:Object(It.jsx)(va,{title:"Total Vendors",count:i.vendors,icon:sn.a,color:dt.a.blue[600],url:"/".concat(n?"admin":"partners","/vendors")})}),i.showStaffs&&Object(It.jsx)(Bn.a,{item:!0,lg:3,sm:6,xl:3,xs:12,children:Object(It.jsx)(va,{title:"Total Staffs",count:i.staffs,icon:sn.a,color:dt.a.blueGrey[600],url:"/".concat(n?"admin":"partners","/staff")})}),i.showBookings&&Object(It.jsx)(Bn.a,{item:!0,lg:3,sm:6,xl:3,xs:12,children:Object(It.jsx)(va,{title:"Total Booking",count:i.bookings,icon:ln.a,color:dt.a.indigo[600],url:"/".concat(n?"admin":"partners","/bookings")})}),i.showCategories&&Object(It.jsx)(Bn.a,{item:!0,lg:3,sm:6,xl:3,xs:12,children:Object(It.jsx)(va,{title:"Total Main Services",count:i.categories,icon:cn.a,color:dt.a.cyan[600],url:"/".concat(n?"admin":"partners","/categories")})}),i.showServices&&Object(It.jsx)(Bn.a,{item:!0,lg:3,sm:6,xl:3,xs:12,children:Object(It.jsx)(va,{title:"Total Sub Services",count:i.services,icon:cn.a,color:dt.a.deepOrange[600],url:"/".concat(n?"admin":"partners","/services")})}),i.showBanners&&Object(It.jsx)(Bn.a,{item:!0,lg:3,sm:6,xl:3,xs:12,children:Object(It.jsx)(va,{title:"Total Banners",count:i.banners,icon:rn.a,color:dt.a.green[600],url:"/".concat(n?"admin":"partners","/banners")})}),i.showTutorials&&Object(It.jsx)(Bn.a,{item:!0,lg:3,sm:6,xl:3,xs:12,children:Object(It.jsx)(va,{title:"Total Tutorials",count:i.tutorials,icon:dn.a,color:dt.a.lightBlue[600],url:"/".concat(n?"admin":"partners","/tutorials")})})]}),n&&Object(It.jsx)(Bn.a,{container:!0,spacing:3,children:Object(It.jsx)(Bn.a,{item:!0,sm:12,lg:6,children:Object(It.jsx)(Na,{url:"/reports/customer",property:"customers",title:"Customers Joined"})})})]})})},Ea=n(270),Aa=n(581),_a=Object(ct.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,height:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),Ba=function(){var e=_a(),t=Object(b.h)(),n=Object(o.c)();return Object(a.useEffect)((function(){t("/login",{replace:!0})}),[]),Object(It.jsx)(Jt,{className:e.root,title:"Login",children:Object(It.jsx)(zt.a,{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",children:Object(It.jsx)(qt.a,{maxWidth:"sm",children:Object(It.jsx)(Aa.a,{initialValues:{email:"",password:""},enableReinitialize:!0,validationSchema:Ea.a().shape({email:Ea.b().email("Must be a valid email").max(255).required("Email is required"),password:Ea.b().max(255).required("Password is required")}),onSubmit:function(e,t){x.a.post("/admin/login",e).then((function(e){var t=e.data.data,a=t.userType,r=t.token;return n(v({token:r,userType:a}))})).catch((function(e){var n=e.response;(null===n||void 0===n?void 0:n.data.message)&&(console.log(n.data.message),t.setErrors(null===n||void 0===n?void 0:n.data.message),t.setSubmitting(!1))}))},children:function(e){var t=e.errors,n=e.handleBlur,a=e.handleChange,r=e.handleSubmit,c=e.isSubmitting,i=e.touched,o=e.values;return Object(It.jsxs)("form",{onSubmit:r,children:[Object(It.jsxs)(zt.a,{mb:3,children:[Object(It.jsx)(Ht.a,{color:"textPrimary",variant:"h2",children:"Sign in"}),Object(It.jsx)(Ht.a,{color:"textSecondary",gutterBottom:!0,variant:"body2",children:"Sign in on the internal platform"})]}),Object(It.jsx)(Gn.a,{error:Boolean(i.email&&t.email),fullWidth:!0,helperText:i.email&&t.email,label:"Email Address",margin:"normal",name:"email",onBlur:n,onChange:a,type:"email",value:o.email,variant:"outlined"}),Object(It.jsx)(Gn.a,{error:Boolean(i.password&&t.password),fullWidth:!0,helperText:i.password&&t.password,label:"Password",margin:"normal",name:"password",onBlur:n,onChange:a,type:"password",value:o.password,variant:"outlined"}),"string"===typeof t&&Object(It.jsx)(Ht.a,{color:"error",variant:"body2",children:t}),Object(It.jsx)(zt.a,{my:2,children:Object(It.jsx)(pn.a,{color:"primary",disabled:c,fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"Sign in now"})})]})}})})})})},Ra=function(e){return{type:W,payload:e}},La=function(e){return{type:V,payload:e}},Ua=function(e){var t=e.image,n=e.extraLarge,a=Object(yt.a)(e,["image","extraLarge"]);return Object(It.jsx)("img",Object(I.a)({src:t||"https://via.placeholder.com/200",alt:"not found",style:{maxWidth:n?200:80,maxHeight:n?200:80,objectFit:"contain",borderRadius:5,margin:"auto",boxShadow:"rgba(0, 0, 0, 0.3) 2px 3px 5px 1px",cursor:"pointer"}},a))},Fa=function(e){var t=e.onClick,n=e.tipClass,a=e.btnClass,r=e.title,c=e.children,i=e.placement;return Object(It.jsx)(la.a,{title:r,placement:i,className:n,children:Object(It.jsx)(wn.a,{onClick:t,className:a,children:c})})},Wa=n(1071),Pa=function(){return Object(It.jsx)(Wa.a,{size:"20",color:"green"})},Ma=n(1072),Va=function(){return Object(It.jsx)(Ma.a,{size:"20",color:"red"})},Ga=Object(ct.a)((function(e){return{root:{},avatar:{margin:e.spacing(1),marginRight:e.spacing(2)}}}));var za=function(e){var t=e.image,n=e.name,a=e.square,r=Ga();return Object(It.jsxs)(zt.a,{alignItems:"center",display:"flex",children:[Object(It.jsx)(Qt.a,{className:r.avatar,style:{borderRadius:a&&2},src:t,children:Tt(n)}),Object(It.jsx)(Ht.a,{color:"textPrimary",variant:"body1",children:Et(n)})]})},qa=n(571),Ha=n.n(qa),Ya=n(746),Ja=n(748),$a=n(747),Ka=n(548),Xa=n(28),Qa=n(50),Za=n.n(Qa),er=Object(ct.a)((function(e){return{closeDialog:{position:"absolute",right:"10px",top:"5px"},formRow:{margin:"10px 0 0 0"},categoryDialog:{display:"flex",alignItems:"center"},categoryAvatar:{width:150,height:150,borderRadius:5,marginRight:10,marginBottom:5},submitButton:{textAlign:"right",marginTop:20},displayFlex:{display:"flex"},justifyContentSpaceEvenly:{justifyContent:"space-evenly"},fileDropper:{minWidth:400,minHeight:200,backgroundColor:"#f1f1f1",borderRadius:5,textAlign:"center",padding:10,position:"relative"},imageChooserText:{position:"absolute",left:"35%",top:"45%"}}})),tr=function(){var e=Object(Xa.a)(),t=Object(o.c)(),n=er(),r=Object(a.useRef)(null),c=Object(Ka.a)(e.breakpoints.down("sm")),i=Object(o.d)((function(e){return e.service})),s=i.dialogId,l=i.isDialogOpen,j=Object(a.useState)([]),b=Object(Xt.a)(j,2),p=b[0],O=b[1],m=Object(a.useState)(""),f=Object(Xt.a)(m,2),h=f[0],g=f[1];Object(a.useEffect)((function(){return function(){O([]),g("")}}),[l]);var v=function(){return t({type:U})},y=function(){var e=Object(u.a)(d.a.mark((function e(n){var a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),a=new FormData,0!==p.length){e.next=4;break}return e.abrupt("return",g("Please choose an image"));case 4:return p.forEach((function(e){return a.append("image",e)})),e.prev=5,e.next=8,x.a.post("/service/coverImage/".concat(s),a);case 8:r=e.sent,(c=r.data)&&t(Ra({data:c.data.service,id:a.mongoID})),v(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(It.jsxs)(Ya.a,{fullScreen:c,open:l,onClose:v,"aria-labelledby":"responsive-dialog-name",disableBackdropClick:!0,children:[Object(It.jsx)(Fa,{title:"Close",onClick:v,btnClass:n.closeDialog,children:Object(It.jsx)(Za.a,{color:"primary"})}),Object(It.jsx)($a.a,{id:"responsive-dialog-name",children:"Cover Images"}),Object(It.jsx)(Ja.a,{children:Object(It.jsxs)("form",{onSubmit:y,children:[Object(It.jsx)("input",{ref:r,name:"coverImage",id:"coverImage",type:"file",hidden:!0,accept:"image/*",multiple:!0,onChange:function(e){var t=e.target.files;O([].concat(Object(B.a)(p),Object(B.a)(t)));for(var n=function(e){var n=new FileReader;n.addEventListener("load",(function(){var e=document.createElement("img");e.src=n.result,e.classList.add("sticker"),e.style.width="100px",e.style.height="100px",e.style.borderRadius="2px",e.style.margin="5px",e.style.objectFit="contain",document.getElementById("imageperviews").append(e)})),n.readAsDataURL(t[e])},a=0;a<t.length;a++)n(a)}}),Object(It.jsx)("div",{id:"imageperviews",className:n.fileDropper,onClick:function(){r.current.click()},children:0===p.length&&Object(It.jsx)("div",{className:n.imageChooserText,children:"Choose an image"})}),h&&Object(It.jsx)("div",{style:{textAlign:"center"},children:Object(It.jsx)(Ht.a,{variant:"caption",color:"error",children:h})}),Object(It.jsx)("div",{className:n.submitButton,children:Object(It.jsx)(pn.a,{variant:"contained",color:"primary",type:"submit",children:"Submit"})})]})})]})},nr=n(749),ar=n(7),rr=Object(ar.a)((function(e){return{root:{width:42,height:26,padding:0,margin:e.spacing(1)},switchBase:{padding:1,"&$checked":{transform:"translateX(16px)",color:e.palette.common.white,"& + $track":{backgroundColor:e.palette.success.main,opacity:1,border:"none"}},"&$focusVisible $thumb":{color:e.palette.success.main,border:"6px solid #fff"}},thumb:{width:24,height:24},track:{borderRadius:13,border:"1px solid ".concat(e.palette.grey[400]),backgroundColor:e.palette.grey[400],opacity:1,transition:e.transitions.create(["background-color","border"])},checked:{},focusVisible:{}}}))((function(e){var t=e.classes,n=e.checked,a=Object(yt.a)(e,["classes","checked"]);return Object(It.jsx)(nr.a,Object(I.a)(Object(I.a)({focusVisibleClassName:t.focusVisible,disableRipple:!0,classes:{root:t.root,switchBase:t.switchBase,thumb:t.thumb,track:t.track,checked:t.checked}},a),{},{checked:Boolean(n)}))})),cr=r.a.memo(rr),ir=Object(ct.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),or=function(){var e=ir(),t=Object(o.c)(),n=Object(b.h)(),r=Object(o.d)((function(e){return e.admin.data.hasPermission})),c=Object(o.d)((function(e){return e.service.data})),i=Object(a.useState)([]),s=Object(Xt.a)(i,2),l=s[0],j=s[1];Object(a.useEffect)((function(){j(c)}),[c,j]),Object(a.useEffect)((function(){(function(){var e=Object(u.a)(d.a.mark((function e(){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("/service");case 3:n=e.sent,a=n.data,t((r=a.data.services,{type:R,payload:r})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}var r}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[t]);var p=function(e){if(!r)return Yn();t({type:L,payload:e})},O=function(){var e=Object(u.a)(d.a.mark((function e(n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",Yn());case 2:return e.prev=2,e.next=5,x.a.put("/service/toggleShow/".concat(n));case 5:a=e.sent,200===a.data.status&&t({type:M,payload:{id:n}}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),m=[{name:"UUID",cell:function(e){return Object(It.jsx)(ua,{string:e._id})}},{name:"Main Service",cell:function(e){return Object(It.jsx)(za,{name:e.categoryId.name,image:e.categoryId.image,square:!0})}},{name:"Image",cell:function(e){return Object(It.jsx)(Ua,{image:e.image})}},{name:"Title",selector:"title",sortable:!0},{name:"Price",selector:"price",sortable:!0},{name:"Discount",selector:"discount",sortable:!0},{name:"Is Best Offer?",cell:function(e){return Object(It.jsx)(cr,{onChange:function(){return O(e._id)},checked:e.show})}},{name:"Created At",cell:function(e){return ft(e.createdAt)},sortable:!0},{name:"Actions",cell:function(e){return Object(It.jsxs)("div",{children:[Object(It.jsx)(Fa,{onClick:function(){return function(e){if(!r)return Yn();n("/admin/service/new/".concat(e))}(e._id)},title:"Edit",children:Object(It.jsx)(Pa,{})}),Object(It.jsx)(Fa,{title:"Add Cover Image",onClick:function(){return p(e._id)},children:Object(It.jsx)(Ha.a,{color:"primary"})}),Object(It.jsx)(Fa,{title:"Delete",onClick:function(){return e._id,Jn()},children:Object(It.jsx)(Va,{})})]})}}];return Object(It.jsxs)(Jt,{className:e.root,title:"Sub Services",children:[Object(It.jsxs)(qt.a,{maxWidth:!1,children:[Object(It.jsx)(ea,{title:"Sub Services",onAddButtonClick:function(){if(!r)return Yn();n("/admin/service/new/create")}}),Object(It.jsx)(zt.a,{mt:3,children:Object(It.jsx)(ra,{data:l,title:"Sub Services",columns:m,actions:Object(It.jsx)(sa,{title:"Sub Services",onSearch:function(e){var t=e.target.value.toUpperCase();if(t){var n=c.filter((function(e){var n,a,r,c;return(null===e||void 0===e||null===(n=e.title)||void 0===n||null===(a=n.toUpperCase())||void 0===a?void 0:a.indexOf(t))>-1||(null===e||void 0===e||null===(r=e.description)||void 0===r||null===(c=r.toUpperCase())||void 0===c?void 0:c.indexOf(t))>-1}));j(n)}else j(c)}})})})]}),Object(It.jsx)(tr,{})]})},sr=n(996),lr=n(263),dr=n.n(lr),ur=n(262),jr=n.n(ur),br=function(e){return{type:Y,payload:e}},pr=function(e){return{type:$,payload:e}},Or=function(e){return{type:X,payload:e}},xr=function(e){return{type:ee,payload:e}},mr=function(e){return{type:J,payload:e}},fr=n(995),hr=n(750),gr=n(751),vr=n(141),yr=Object(ct.a)((function(e){return{accordion:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},avatar:{backgroundColor:vr.a[100],color:vr.a[600]},imageContainer:{alignItems:"center",textAlign:"center",marginTop:10},closeButton:{position:"absolute",right:"10px",top:"5px"},textCenter:{textAlign:"center",padding:5},dataLine:{margin:"5px 0",display:"flex",alignItems:"baseline"},accordionDetails:{}}})),Cr=function(){var e=yr(),t=Object(o.c)(),n=Object(a.useState)({}),r=Object(Xt.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)(!1),l=Object(Xt.a)(s,2),d=l[0],u=l[1],j=Object(o.d)((function(e){return e.booking})),b=j.dialogId,p=j.isDialogOpen,O=j.data;Object(a.useEffect)((function(){if(b){var e=O.findIndex((function(e){return e._id===b}));-1!==e&&(u(!0),i(O[e]))}return function(){return u(!1)}}),[b,O]);var x=function(){t({type:K})};return Object(It.jsxs)(Ya.a,{onClose:x,"aria-labelledby":"simple-dialog-title",open:p,maxWidth:"md",children:[Object(It.jsxs)($a.a,{id:"simple-dialog-title",children:[Object(It.jsx)(Fa,{title:"Close",onClick:x,btnClass:e.closeButton,children:Object(It.jsx)(Za.a,{})}),Object(It.jsx)(Ht.a,{variant:"h3",children:"Booking Details"})]}),Object(It.jsx)(Ja.a,{children:d&&Object(It.jsxs)(Bn.a,{container:!0,spacing:1,children:[Object(It.jsxs)(Bn.a,{item:!0,md:12,children:[Object(It.jsxs)("div",{className:e.dataLine,children:[Object(It.jsx)(Ht.a,{variant:"h5",children:"Instruction:\xa0"}),Object(It.jsx)(Ht.a,{variant:"h6",color:"textSecondary",children:c.description})]}),Object(It.jsxs)("div",{className:e.dataLine,children:[Object(It.jsx)(Ht.a,{variant:"h5",children:"Frequency:\xa0"}),Object(It.jsx)(Ht.a,{variant:"h6",color:"textSecondary",children:c.frequency})]}),Object(It.jsxs)("div",{className:e.dataLine,children:[Object(It.jsx)(Ht.a,{variant:"h5",children:"Hours:\xa0"}),Object(It.jsx)(Ht.a,{variant:"h6",color:"textSecondary",children:c.howManyHours})]}),Object(It.jsxs)("div",{className:e.dataLine,children:[Object(It.jsx)(Ht.a,{variant:"h5",children:"Professions:\xa0"}),Object(It.jsx)(Ht.a,{variant:"h6",color:"textSecondary",children:c.howManyProfessions})]}),Object(It.jsxs)("div",{className:e.dataLine,children:[Object(It.jsx)(Ht.a,{variant:"h5",children:"Date & Time:\xa0"}),Object(It.jsxs)(Ht.a,{variant:"h6",color:"textSecondary",children:[c.date," \xa0",c.time]})]}),Object(It.jsxs)(Ht.a,{className:[e.dataLine,{marginLeft:"auto"}].join(" "),variant:"caption",color:"textSecondary",children:["Registration Date: ",ft(c.createdAt)]})]}),Object(It.jsx)(Bn.a,{item:!0,md:6,children:Object(It.jsxs)(fr.a,{disabled:!(null===c||void 0===c?void 0:c.userId),children:[Object(It.jsx)(hr.a,{expandIcon:Object(It.jsx)(gn.a,{}),children:Object(It.jsx)(Ht.a,{className:e.heading,children:"User Details"})}),Object(It.jsx)(gr.a,{children:Object(It.jsxs)("div",{children:[Object(It.jsxs)("div",{className:e.dataLine,children:[Object(It.jsx)(Ht.a,{variant:"h5",children:"Name:\xa0"}),Object(It.jsx)(Ht.a,{variant:"h6",color:"textSecondary",children:c.userId.name})]}),Object(It.jsxs)("div",{className:e.dataLine,children:[Object(It.jsx)(Ht.a,{variant:"h5",children:"Email:\xa0"}),Object(It.jsx)(Ht.a,{variant:"h6",color:"textSecondary",children:c.userId.email})]}),Object(It.jsxs)("div",{className:e.dataLine,children:[Object(It.jsx)(Ht.a,{variant:"h5",children:"Location:\xa0"}),Object(It.jsx)(Ht.a,{variant:"h6",color:"textSecondary",children:Et(c.userId.location)})]}),Object(It.jsxs)("div",{className:e.dataLine,children:[Object(It.jsx)(Ht.a,{variant:"h5",children:"Gender:\xa0"}),Object(It.jsx)(Ht.a,{variant:"h6",color:"textSecondary",children:Et(c.userId.gender)})]}),Object(It.jsxs)(Ht.a,{className:e.dataLine,variant:"caption",color:"textSecondary",children:["Joined Date:\xa0",ft(c.serviceId.createdAt)]})]})})]})}),Object(It.jsx)(Bn.a,{item:!0,md:6,children:Object(It.jsxs)(fr.a,{disabled:!(null===c||void 0===c?void 0:c.serviceId),children:[Object(It.jsx)(hr.a,{expandIcon:Object(It.jsx)(gn.a,{}),children:Object(It.jsx)(Ht.a,{className:e.heading,children:"Service Details"})}),Object(It.jsx)(gr.a,{children:Object(It.jsxs)("div",{style:{margin:"auto"},children:[Object(It.jsx)("div",{className:e.imageContainer,children:Object(It.jsx)(Ua,{image:c.serviceId.image,extraLarge:!0})}),Object(It.jsxs)("div",{className:e.dataLine,children:[Object(It.jsx)(Ht.a,{variant:"h5",children:"Title:\xa0"}),Object(It.jsx)(Ht.a,{variant:"h6",color:"textSecondary",children:c.serviceId.title})]}),Object(It.jsxs)("div",{className:e.dataLine,children:[Object(It.jsx)(Ht.a,{variant:"h5",children:"Description:\xa0"}),Object(It.jsx)(Ht.a,{variant:"h6",color:"textSecondary",children:c.serviceId.description})]}),Object(It.jsxs)("div",{className:e.dataLine,children:[Object(It.jsx)(Ht.a,{variant:"h5",children:"Price:\xa0"}),Object(It.jsx)(Ht.a,{variant:"h6",color:"textSecondary",children:c.serviceId.price})]}),Object(It.jsxs)(Ht.a,{className:e.dataLine,variant:"caption",color:"textSecondary",children:["Created At:\xa0",ft(c.serviceId.createdAt)]})]})})]})})]})})]})},kr=n(752),Ir=n(753),Sr=n(555),wr=n(554),Nr=n(583),Dr=Object(ct.a)((function(e){return{formControl:{minWidth:120}}}));function Tr(){var e=Dr(),t=Object(o.c)(),n=r.a.useState([]),c=Object(Xt.a)(n,2),i=c[0],s=c[1],l=r.a.useState(""),j=Object(Xt.a)(l,2),b=j[0],p=j[1],O=Object(o.d)((function(e){return e.booking})),m=O.vendorId,f=O.bookingId,h=O.isStaffDialogOpen;Object(a.useEffect)((function(){m&&function(){var e=Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("/staff/vendor/".concat(m));case 3:t=e.sent,n=t.data,s(n.data.staffs),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[m]);var g=function(){t({type:Q})},v=function(){var e=Object(u.a)(d.a.mark((function e(){var n,a,r,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m&&f){e.next=2;break}return e.abrupt("return",$n("An error","Contact with your developer!","danger"));case 2:return e.prev=2,n={staffId:b,bookingId:f},e.next=6,x.a.put("/booking/assignStaff",n);case 6:a=e.sent,r=a.data,t((o={bookingId:f,bookingData:r.data.booking},{type:Z,payload:o})),$n("Done",r.message,"success"),g(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),$n("Warning",null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c||null===(i=c.data)||void 0===i?void 0:i.message,"warning");case 16:case"end":return e.stop()}var o}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}();return Object(It.jsxs)(Ya.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:h,onClose:g,children:[Object(It.jsx)($a.a,{children:"Choose Staff for this job!"}),Object(It.jsx)(Ja.a,{children:Object(It.jsxs)(wr.a,{className:e.formControl,children:[Object(It.jsx)(Sr.a,{htmlFor:"demo-dialog-native",children:"Choose Staff"}),Object(It.jsxs)(Nr.a,{labelId:"demo-dialog-select-label",id:"demo-dialog-select",value:b,onChange:function(e){p(e.target.value)},children:[Object(It.jsx)(kr.a,{value:"",children:Object(It.jsx)("em",{children:"None"})}),i.map((function(e){return Object(It.jsx)(kr.a,{value:e._id,children:e.name},e._id)}))]})]})}),Object(It.jsxs)(Ir.a,{children:[Object(It.jsx)(pn.a,{onClick:g,variant:"text",color:"primary",children:"Cancel"}),Object(It.jsx)(pn.a,{onClick:v,variant:"contained",size:"small",color:"primary",children:"Ok"})]})]})}var Er=function(e){var t=e.label,n=void 0===t?"":t,a=e.color,r=e.icon,c=Object(yt.a)(e,["label","color","icon"]);return Object(It.jsx)(sr.a,Object(I.a)({label:n,style:{backgroundColor:a,color:dt.a.common.white,margin:2},icon:r},c))},Ar=Object(ct.a)((function(){return{formControl:{minWidth:120}}}));function _r(){var e=Ar(),t=Object(o.c)(),n=Object(o.d)((function(e){return e.booking})),c=n.isVendorDialogOpen,i=n.bookingId,s=Object(o.d)((function(e){return e.vendor})).data,l=r.a.useState(""),j=Object(Xt.a)(l,2),b=j[0],p=j[1];Object(a.useEffect)((function(){c||p("")}),[c]);var O=function(){t({type:te})},m=function(){var e=Object(u.a)(d.a.mark((function e(){var n,a,r,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={bookingId:i,vendorId:b},e.next=4,x.a.put("/booking/assignVendor",n);case 4:a=e.sent,r=a.data,t((s={bookingId:i,bookingData:r.data.booking},{type:ne,payload:s})),$n("Done",r.message,"success"),O(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),$n("Warning",null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c||null===(o=c.data)||void 0===o?void 0:o.message,"warning");case 14:case"end":return e.stop()}var s}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(It.jsxs)(Ya.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:c,onClose:O,children:[Object(It.jsx)($a.a,{children:"Choose Vendor for this job!"}),Object(It.jsx)(Ja.a,{children:Object(It.jsxs)(wr.a,{className:e.formControl,children:[Object(It.jsx)(Sr.a,{htmlFor:"vendor-dialog-native",children:"Choose Vendor"}),Object(It.jsxs)(Nr.a,{labelId:"vendor-dialog-select-label",id:"vendor-dialog-select",value:b,onChange:function(e){p(e.target.value)},children:[Object(It.jsx)(kr.a,{value:"",children:Object(It.jsx)("em",{children:"None"})}),s.map((function(e){return Object(It.jsx)(kr.a,{value:e._id,children:e.companyName},e._id)}))]})]})}),Object(It.jsxs)(Ir.a,{children:[Object(It.jsx)(pn.a,{onClick:O,variant:"text",color:"primary",children:"Cancel"}),Object(It.jsx)(pn.a,{onClick:m,variant:"contained",size:"small",color:"primary",children:"Ok"})]})]})}var Br=n(261),Rr=n.n(Br),Lr=n(159),Ur=n.n(Lr),Fr=Object(ct.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},instructionContainer:{display:"flex",alignItems:"center",flexDirection:"row"},instructionItem:{display:"flex",alignItems:"center",flexDirection:"column",margin:5,backgroundColor:"#f1f1f1",padding:"5px 10px",borderRadius:10}}})),Wr=function(e){var t=e.label;return Object(It.jsx)(Er,{type:"cancel",label:t,color:dt.a.red[500],icon:Object(It.jsx)(Rr.a,{fontSize:"small",style:{color:dt.a.common.white}})})},Pr=function(){return Object(It.jsx)(Er,{icon:Object(It.jsx)(Ur.a,{fontSize:"small",style:{color:dt.a.common.white}}),label:"Assigned",color:dt.a.orange[500]})},Mr=function(e){var t=e.label;return Object(It.jsx)(sr.a,{label:t,size:"small",style:{backgroundColor:dt.a.green[500],color:dt.a.common.white},icon:Object(It.jsx)(Qt.a,{})})},Vr=function(e){var t=e.label;return Object(It.jsx)(sr.a,{label:t,size:"small",style:{backgroundColor:dt.a.grey[500],color:dt.a.common.white},icon:Object(It.jsx)(Qt.a,{})})},Gr=function(){return Object(It.jsx)(Er,{icon:Object(It.jsx)(Ur.a,{fontSize:"small",style:{color:dt.a.common.white}}),label:"Completed",color:dt.a.indigo[500]})},zr=function(e){var t=e.label;return Object(It.jsx)(Er,{icon:Object(It.jsx)(Qt.a,{}),label:t,color:dt.a.teal[500]})},qr=function(){var e=Fr();return Object(It.jsxs)("div",{className:e.instructionContainer,children:[Object(It.jsxs)("div",{className:e.instructionItem,children:[Object(It.jsx)(Ht.a,{children:"Cancel by someone"}),Object(It.jsx)(Wr,{label:"Admin"})]}),Object(It.jsxs)("div",{className:e.instructionItem,children:[Object(It.jsx)(Ht.a,{children:"Assigned successfully to staff"}),Object(It.jsx)(Pr,{})]}),Object(It.jsxs)("div",{className:e.instructionItem,children:[Object(It.jsx)(Ht.a,{children:"Job finished"}),Object(It.jsx)(Gr,{})]}),Object(It.jsxs)("div",{className:e.instructionItem,children:[Object(It.jsx)(Ht.a,{children:"Who has done the job"}),Object(It.jsx)(Mr,{label:"Staff Name"})]}),Object(It.jsxs)("div",{className:e.instructionItem,children:[Object(It.jsx)(Ht.a,{children:"Assigned to whom"}),Object(It.jsx)(Vr,{label:"Staff Name"})]}),Object(It.jsxs)("div",{className:e.instructionItem,children:[Object(It.jsx)(Ht.a,{children:"Assigned to Vendor"}),Object(It.jsx)(zr,{label:"Vendor Name"})]})]})},Hr=function(){var e=Fr(),t=Object(o.c)(),n=Object(o.d)((function(e){return e.booking.data})),r=Object(o.d)((function(e){return e.admin.userType})),c=Object(o.d)((function(e){return e.admin.data.hasPermission})),i=r===Ot,s=Object(a.useState)([]),l=Object(Xt.a)(s,2),j=l[0],b=l[1];Object(a.useEffect)((function(){b(n)}),[b,n]),Object(a.useEffect)((function(){(function(){var e=Object(u.a)(d.a.mark((function e(){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("/booking");case 3:n=e.sent,a=n.data,t(br(a.data.bookings)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[t]);var p=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!c)return Yn();t(e&&n?Or({bookingId:e,vendorId:n}):xr({bookingId:e}))},O=[{name:"UUID",cell:function(e){return Object(It.jsx)(ua,{string:e._id})}},{name:"Service",cell:function(e){var t;return null===e||void 0===e||null===(t=e.serviceId)||void 0===t?void 0:t.title},sortable:!0},{name:"User",cell:function(e){var t;return Object(It.jsx)(ua,{string:null===e||void 0===e||null===(t=e.userId)||void 0===t?void 0:t.name})},sortable:!0},{name:"Status",cell:function(e){var t,n,a;return Object(It.jsxs)("div",{children:[e.vendorId&&Object(It.jsx)(zr,{label:null===e||void 0===e||null===(t=e.vendorId)||void 0===t?void 0:t.companyName}),!e.isCancelled&&Object(It.jsx)(Fa,{onClick:function(){var t;return i?p(e._id):p(e._id,null===e||void 0===e||null===(t=e.vendorId)||void 0===t?void 0:t._id)},title:i?"Assign Vendor":"Assign Employee",placement:"top",children:Object(It.jsx)(jr.a,{color:"action",fontSize:"small"})}),e.staffId&&!e.isCancelled&&e.isDone&&Object(It.jsx)(Mr,{label:null===e||void 0===e||null===(n=e.staffId)||void 0===n?void 0:n.name}),e.staffId&&!e.isCancelled&&!e.isDone&&Object(It.jsx)(Vr,{label:null===e||void 0===e||null===(a=e.staffId)||void 0===a?void 0:a.name}),e.isCancelled&&e.cancelledByWhom&&Object(It.jsx)(Wr,{label:e.cancelledByWhom}),e.staffId&&e.isDone&&Object(It.jsx)(Gr,{}),e.staffId&&!e.isDone&&Object(It.jsx)(Pr,{})]})}},{name:"Actions",cell:function(e){return Object(It.jsxs)("div",{children:[Object(It.jsx)(Fa,{onClick:function(){return function(e){if(!c)return Yn();t(pr(e))}(e._id)},title:"View",placement:"top",children:Object(It.jsx)(dr.a,{color:"primary",fontSize:"small"})}),Object(It.jsx)(Fa,{onClick:function(){return function(e){if(!c)return Yn();Hn().then(function(){var n=Object(u.a)(d.a.mark((function n(a){var r,c;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a){n.next=13;break}return n.prev=1,n.next=4,x.a.delete("/booking/".concat(e));case 4:r=n.sent,c=r.data,console.log(c),200===c.status&&(t(mr(e)),$n("Deleted!","Booking has been deleted!","success")),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),console.log(n.t0.response);case 13:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}()).catch((function(e){return console.log(e)}))}(e._id)},title:"Delete",placement:"top",children:Object(It.jsx)(Va,{color:"error",fontSize:"small"})})]})}}];return Object(It.jsxs)(Jt,{className:e.root,title:"Bookings",children:[Object(It.jsxs)(qt.a,{maxWidth:!1,children:[Object(It.jsx)(ea,{hideAddButton:!0,component:Object(It.jsx)(qr,{})}),Object(It.jsx)(zt.a,{mt:3,children:Object(It.jsx)(ra,{data:j,title:"Booking",columns:O,actions:Object(It.jsx)(sa,{title:"Booking",onSearch:function(e){var t=e.target.value.toUpperCase();if(t){var a=n.filter((function(e){var n,a,r,c,i,o,s,l,d,u,j,b,p,O;return(null===e||void 0===e||null===(n=e.serviceId)||void 0===n||null===(a=n.title)||void 0===a||null===(r=a.toUpperCase())||void 0===r?void 0:r.indexOf(t))>-1||(null===e||void 0===e||null===(c=e.userId)||void 0===c||null===(i=c.name)||void 0===i||null===(o=i.toUpperCase())||void 0===o?void 0:o.indexOf(t))>-1||(null===e||void 0===e||null===(s=e.description)||void 0===s||null===(l=s.toUpperCase())||void 0===l?void 0:l.indexOf(t))>-1||(null===e||void 0===e||null===(d=e.howManyHours)||void 0===d||null===(u=d.toUpperCase())||void 0===u?void 0:u.indexOf(t))>-1||(null===e||void 0===e||null===(j=e.howManyProfessions)||void 0===j||null===(b=j.toUpperCase())||void 0===b?void 0:b.indexOf(t))>-1||(null===e||void 0===e||null===(p=e.frequency)||void 0===p||null===(O=p.toUpperCase())||void 0===O?void 0:O.indexOf(t))>-1}));b(a)}else b(n)}})})})]}),Object(It.jsx)(Cr,{}),Object(It.jsx)(Tr,{}),Object(It.jsx)(_r,{})]})},Yr=Object(ct.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},instructionContainer:{display:"flex",alignItems:"center",flexDirection:"row"},instructionItem:{display:"flex",alignItems:"center",flexDirection:"column",margin:5,backgroundColor:"#f1f1f1",padding:"5px 10px",borderRadius:10}}})),Jr=function(e){var t=e.label;return Object(It.jsx)(Er,{type:"cancel",label:t,color:dt.a.red[500],icon:Object(It.jsx)(Rr.a,{fontSize:"small",style:{color:dt.a.common.white}})})},$r=function(){return Object(It.jsx)(Er,{icon:Object(It.jsx)(Ur.a,{fontSize:"small",style:{color:dt.a.common.white}}),label:"Assigned",color:dt.a.orange[500]})},Kr=function(e){var t=e.label;return Object(It.jsx)(sr.a,{label:t,size:"small",style:{backgroundColor:dt.a.green[500],color:dt.a.common.white},icon:Object(It.jsx)(Qt.a,{})})},Xr=function(e){var t=e.label;return Object(It.jsx)(sr.a,{label:t,size:"small",style:{backgroundColor:dt.a.grey[500],color:dt.a.common.white},icon:Object(It.jsx)(Qt.a,{})})},Qr=function(){return Object(It.jsx)(Er,{icon:Object(It.jsx)(Ur.a,{fontSize:"small",style:{color:dt.a.common.white}}),label:"Completed",color:dt.a.indigo[500]})},Zr=function(e){var t=e.label;return Object(It.jsx)(Er,{icon:Object(It.jsx)(Qt.a,{}),label:t,color:dt.a.teal[500]})},ec=function(){var e=Yr();return Object(It.jsxs)("div",{className:e.instructionContainer,children:[Object(It.jsxs)("div",{className:e.instructionItem,children:[Object(It.jsx)(Ht.a,{children:"Cancel by someone"}),Object(It.jsx)(Jr,{label:"Admin"})]}),Object(It.jsxs)("div",{className:e.instructionItem,children:[Object(It.jsx)(Ht.a,{children:"Assigned successfully to staff"}),Object(It.jsx)($r,{})]}),Object(It.jsxs)("div",{className:e.instructionItem,children:[Object(It.jsx)(Ht.a,{children:"Job finished"}),Object(It.jsx)(Qr,{})]}),Object(It.jsxs)("div",{className:e.instructionItem,children:[Object(It.jsx)(Ht.a,{children:"Who has done the job"}),Object(It.jsx)(Kr,{label:"Staff Name"})]}),Object(It.jsxs)("div",{className:e.instructionItem,children:[Object(It.jsx)(Ht.a,{children:"Assigned to whom"}),Object(It.jsx)(Xr,{label:"Staff Name"})]}),Object(It.jsxs)("div",{className:e.instructionItem,children:[Object(It.jsx)(Ht.a,{children:"Assigned to Vendor"}),Object(It.jsx)(Zr,{label:"Vendor Name"})]})]})},tc=function(){var e=Yr(),t=Object(o.c)(),n=Object(o.d)((function(e){return e.booking.data})),r=Object(o.d)((function(e){return e.admin.userType})),c=Object(o.d)((function(e){return e.admin.data.hasPermission})),i=r===Ot,s=Object(a.useState)([]),l=Object(Xt.a)(s,2),j=l[0],b=l[1];Object(a.useEffect)((function(){b(n)}),[b,n]),Object(a.useEffect)((function(){(function(){var e=Object(u.a)(d.a.mark((function e(){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("/booking/cleaning");case 3:n=e.sent,a=n.data,t(br(a.data.bookings)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[t]);var p=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!c)return Yn();t(e&&n?Or({bookingId:e,vendorId:n}):xr({bookingId:e}))},O=[{name:"UUID",cell:function(e){return Object(It.jsx)(ua,{string:e._id})}},{name:"User",cell:function(e){return Object(It.jsx)(ua,{string:e.userId.name})},sortable:!0},{name:"Instruction",cell:function(e){return Object(It.jsx)(ua,{string:e.description})},sortable:!0},{name:"Material",cell:function(e){return e.isMaterialRequired?"on":"off"},sortable:!0},{name:"Frequency",selector:"frequency",sortable:!0},{name:"Hours",selector:"howManyHours",sortable:!0},{name:"Professions",selector:"howManyProfessions",sortable:!0},{name:"Start Date",cell:function(e){return ft(e.startDate,!0)},sortable:!0},{name:"End Date",cell:function(e){return ft(e.endDate,!0)},sortable:!0},{name:"Register On",cell:function(e){return ft(e.createdAt)},sortable:!0},{name:"Status",cell:function(e){return Object(It.jsxs)("div",{children:[e.vendorId&&Object(It.jsx)(Zr,{label:e.vendorId.companyName}),!e.isCancelled&&Object(It.jsx)(Fa,{onClick:function(){return i?p(e._id):p(e._id,e.vendorId._id)},title:i?"Assign Vendor":"Assign Employee",placement:"top",children:Object(It.jsx)(jr.a,{color:"action",fontSize:"small"})}),e.staffId&&!e.isCancelled&&e.isDone&&Object(It.jsx)(Kr,{label:e.staffId.name}),e.staffId&&!e.isCancelled&&!e.isDone&&Object(It.jsx)(Xr,{label:e.staffId.name}),e.isCancelled&&e.cancelledByWhom&&Object(It.jsx)(Jr,{label:e.cancelledByWhom}),e.staffId&&e.isDone&&Object(It.jsx)(Qr,{}),e.staffId&&!e.isDone&&Object(It.jsx)($r,{})]})}},{name:"Actions",cell:function(e){return Object(It.jsxs)("div",{children:[Object(It.jsx)(Fa,{onClick:function(){return function(e){if(!c)return Yn();t(pr(e))}(e._id)},title:"View",placement:"top",children:Object(It.jsx)(dr.a,{color:"primary",fontSize:"small"})}),Object(It.jsx)(Fa,{onClick:function(){return function(e){if(!c)return Yn();Hn().then(function(){var n=Object(u.a)(d.a.mark((function n(a){var r,c;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a){n.next=13;break}return n.prev=1,n.next=4,x.a.delete("/booking/".concat(e));case 4:r=n.sent,c=r.data,console.log(c),200===c.status&&(t(mr(e)),$n("Deleted!","Booking has been deleted!","success")),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),console.log(n.t0.response);case 13:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}()).catch((function(e){return console.log(e)}))}(e._id)},title:"Delete",placement:"top",children:Object(It.jsx)(Va,{color:"error",fontSize:"small"})})]})}}];return Object(It.jsxs)(Jt,{className:e.root,title:"Cleaning Bookings",children:[Object(It.jsxs)(qt.a,{maxWidth:!1,children:[Object(It.jsx)(ea,{hideAddButton:!0,component:Object(It.jsx)(ec,{})}),Object(It.jsx)(zt.a,{mt:3,children:Object(It.jsx)(ra,{data:j,title:"Cleaning Booking",columns:O,actions:Object(It.jsx)(sa,{title:"Cleaning Booking",onSearch:function(e){var t=e.target.value.toUpperCase();if(t){var a=n.filter((function(e){var n,a,r,c,i,o,s,l,d,u,j,b,p,O;return(null===e||void 0===e||null===(n=e.serviceId)||void 0===n||null===(a=n.title)||void 0===a||null===(r=a.toUpperCase())||void 0===r?void 0:r.indexOf(t))>-1||(null===e||void 0===e||null===(c=e.userId)||void 0===c||null===(i=c.name)||void 0===i||null===(o=i.toUpperCase())||void 0===o?void 0:o.indexOf(t))>-1||(null===e||void 0===e||null===(s=e.description)||void 0===s||null===(l=s.toUpperCase())||void 0===l?void 0:l.indexOf(t))>-1||(null===e||void 0===e||null===(d=e.howManyHours)||void 0===d||null===(u=d.toUpperCase())||void 0===u?void 0:u.indexOf(t))>-1||(null===e||void 0===e||null===(j=e.howManyProfessions)||void 0===j||null===(b=j.toUpperCase())||void 0===b?void 0:b.indexOf(t))>-1||(null===e||void 0===e||null===(p=e.frequency)||void 0===p||null===(O=p.toUpperCase())||void 0===O?void 0:O.indexOf(t))>-1}));b(a)}else b(n)}})})})]}),Object(It.jsx)(Cr,{}),Object(It.jsx)(Tr,{}),Object(It.jsx)(_r,{})]})},nc=function(e){var t=e.data,n=e.title,a=void 0===n?"":n;return Object(It.jsx)("div",{children:Object(It.jsx)(j.Line,{data:{datasets:[{backgroundColor:dt.a.green[500],data:t.map((function(e){return e.count})),label:"Total ".concat(a),borderColor:"rgba(255, 99, 132, 1)",pointStyle:"circle",pointHoverBorderWidth:3,pointBackgroundColor:"rgba(255, 99, 132, 0.5)",pointBorderColor:"rgba(255, 99, 132, 1)",pointHoverRadius:15,pointRotation:5,pointRadius:5,fill:!1}],labels:t.map((function(e){return e.date}))},options:{scales:{yAxes:[{ticks:{min:0}}]}}})})},ac=Object(ct.a)((function(){return{dateContainer:{display:"flex"},cardHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0px 10px 5px 10px"},paper:{padding:10}}})),rc=function(e){var t=e.title,n=e.url,a=e.property,c=ac(),i=r.a.useState(new Date((new Date).setFullYear((new Date).getFullYear()-1))),o=Object(Xt.a)(i,2),s=o[0],l=o[1],j=r.a.useState(new Date),b=Object(Xt.a)(j,2),p=b[0],O=b[1],m=r.a.useState([]),f=Object(Xt.a)(m,2),h=f[0],g=f[1];return r.a.useEffect((function(){(function(){var e=Object(u.a)(d.a.mark((function e(){var t,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={startDate:s,endDate:p},e.next=4,x.a.post(n,t);case 4:r=e.sent,c=r.data,g(c.data[a]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[s,p,n,a]),Object(It.jsxs)(ya.a,{className:c.paper,children:[Object(It.jsxs)("div",{className:c.cardHeader,children:[Object(It.jsx)(Ht.a,{variant:"h4",children:t}),Object(It.jsxs)("div",{className:c.dateContainer,children:[Object(It.jsx)(Ia,{onChange:l,date:s,title:"Start From"}),Object(It.jsx)(Ia,{onChange:O,date:p,title:"To"})]})]}),Object(It.jsx)(Zt.a,{}),Object(It.jsx)(nc,{data:h,title:t})]})},cc=Object(ct.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},chartContainer:{maxHeight:500}}})),ic=function(){var e=cc();return Object(It.jsx)(Jt,{className:e.root,title:"Bookings Analytic",children:Object(It.jsx)(qt.a,{maxWidth:!1,children:Object(It.jsx)(Bn.a,{container:!0,spacing:3,children:Object(It.jsx)(Bn.a,{item:!0,sm:12,children:Object(It.jsx)(rc,{url:"/reports/booking",property:"bookings",title:"Bookings"})})})})})},oc=n(754),sc=n(990),lc=Object(ct.a)({root:{},item:{display:"flex",flexDirection:"column"}}),dc=function(e){var t=e.className,n=Object(yt.a)(e,["className"]),a=lc();return Object(It.jsx)("form",Object(I.a)(Object(I.a)({className:Object(Rt.a)(a.root,t)},n),{},{children:Object(It.jsxs)(Un.a,{children:[Object(It.jsx)(Vn.a,{subheader:"Manage the notifications",title:"Notifications"}),Object(It.jsx)(Zt.a,{}),Object(It.jsx)(Fn.a,{children:Object(It.jsxs)(Bn.a,{container:!0,spacing:6,wrap:"wrap",children:[Object(It.jsxs)(Bn.a,{className:a.item,item:!0,md:4,sm:6,xs:12,children:[Object(It.jsx)(Ht.a,{color:"textPrimary",gutterBottom:!0,variant:"h6",children:"Notifications"}),Object(It.jsx)(oc.a,{control:Object(It.jsx)(sc.a,{defaultChecked:!0}),label:"Email"}),Object(It.jsx)(oc.a,{control:Object(It.jsx)(sc.a,{defaultChecked:!0}),label:"Push Notifications"}),Object(It.jsx)(oc.a,{control:Object(It.jsx)(sc.a,{}),label:"Text Messages"}),Object(It.jsx)(oc.a,{control:Object(It.jsx)(sc.a,{defaultChecked:!0}),label:"Phone calls"})]}),Object(It.jsxs)(Bn.a,{className:a.item,item:!0,md:4,sm:6,xs:12,children:[Object(It.jsx)(Ht.a,{color:"textPrimary",gutterBottom:!0,variant:"h6",children:"Messages"}),Object(It.jsx)(oc.a,{control:Object(It.jsx)(sc.a,{defaultChecked:!0}),label:"Email"}),Object(It.jsx)(oc.a,{control:Object(It.jsx)(sc.a,{}),label:"Push Notifications"}),Object(It.jsx)(oc.a,{control:Object(It.jsx)(sc.a,{defaultChecked:!0}),label:"Phone calls"})]})]})}),Object(It.jsx)(Zt.a,{}),Object(It.jsx)(zt.a,{display:"flex",justifyContent:"flex-end",p:2,children:Object(It.jsx)(pn.a,{color:"primary",variant:"contained",children:"Save"})})]})}))},uc=Object(ct.a)({root:{}}),jc=function(e){var t=e.className,n=Object(yt.a)(e,["className"]),r=uc(),c=Object(a.useState)({password:"",confirm:""}),i=Object(Xt.a)(c,2),o=i[0],s=i[1],l=function(e){s(Object(I.a)(Object(I.a)({},o),{},Object(_.a)({},e.target.name,e.target.value)))};return Object(It.jsx)("form",Object(I.a)(Object(I.a)({className:Object(Rt.a)(r.root,t)},n),{},{children:Object(It.jsxs)(Un.a,{children:[Object(It.jsx)(Vn.a,{subheader:"Update password",title:"Password"}),Object(It.jsx)(Zt.a,{}),Object(It.jsxs)(Fn.a,{children:[Object(It.jsx)(Gn.a,{fullWidth:!0,label:"Password",margin:"normal",name:"password",onChange:l,type:"password",value:o.password,variant:"outlined"}),Object(It.jsx)(Gn.a,{fullWidth:!0,label:"Confirm password",margin:"normal",name:"confirm",onChange:l,type:"password",value:o.confirm,variant:"outlined"})]}),Object(It.jsx)(Zt.a,{}),Object(It.jsx)(zt.a,{display:"flex",justifyContent:"flex-end",p:2,children:Object(It.jsx)(pn.a,{color:"primary",variant:"contained",children:"Update"})})]})}))},bc=Object(ct.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),pc=function(){var e=bc();return Object(It.jsx)(Jt,{className:e.root,title:"Settings",children:Object(It.jsxs)(qt.a,{maxWidth:"lg",children:[Object(It.jsx)(dc,{}),Object(It.jsx)(zt.a,{mt:3,children:Object(It.jsx)(jc,{})})]})})},Oc=Object(ct.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),xc=function(){var e=Oc(),t=Object(o.c)(),n=Object(o.d)((function(e){return e.vendor.data})),r=Object(o.d)((function(e){return e.admin.data.hasPermission})),c=Object(a.useState)([]),i=Object(Xt.a)(c,2),s=i[0],l=i[1];Object(a.useEffect)((function(){l(n)}),[l,n]),Object(a.useEffect)((function(){(function(){var e=Object(u.a)(d.a.mark((function e(){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("/vendor");case 3:n=e.sent,a=n.data,t(fa(a.data.vendors)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[t,l]);var j=[{name:"UUID",cell:function(e){return Object(It.jsx)(ua,{string:e._id})}},{name:"Category",cell:function(e){var t,n;return Object(It.jsx)(za,{name:null===(t=e.categoryId)||void 0===t?void 0:t.name,image:null===(n=e.categoryId)||void 0===n?void 0:n.image,square:!0})}},{name:"Company Name",cell:function(e){return Object(It.jsx)(ua,{string:e.companyName})},sortable:!0},{name:"Email",cell:function(e){return Object(It.jsx)(ua,{string:e.email})},sortable:!0},{name:"Phone",cell:function(e){return Object(It.jsx)(ua,{string:e.mobile})},sortable:!0},{name:"Address",cell:function(e){return e.addressId?"".concat(e.addressId.houseNumber,", ").concat(e.addressId.street," ").concat(e.addressId.city):"-"},sortable:!0},{name:"Joined On",cell:function(e){return ft(e.createdAt)},sortable:!0},{name:"Actions",cell:function(e){return Object(It.jsx)(Fa,{title:"Delete",onClick:function(){return function(e){if(!r)return Yn();Hn("Make sure all the related booking and staff will be\n deleted automatically!").then(function(){var n=Object(u.a)(d.a.mark((function n(a){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a){n.next=12;break}return n.prev=1,n.next=4,x.a.delete("/vendor/".concat(e));case 4:200===n.sent.data.status&&(t({type:T,payload:e}),$n("Deleted!","Vendor has been deleted!","success")),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}()).catch((function(e){return console.log(e)}))}(e._id)},children:Object(It.jsx)(Va,{color:"error"})})}}];return Object(It.jsx)(Jt,{className:e.root,title:"Vendors",children:Object(It.jsx)(qt.a,{maxWidth:!1,children:Object(It.jsx)(zt.a,{mt:3,children:Object(It.jsx)(ra,{data:s,title:"Vendors",columns:j,actions:Object(It.jsx)(sa,{title:"Vendors",onSearch:function(e){var t=e.target.value.toUpperCase();if(t){var a=n.filter((function(e){var n,a,r,c,i,o,s,l,d,u,j,b,p,O,x;return(null===e||void 0===e||null===(n=e.companyName)||void 0===n||null===(a=n.toUpperCase())||void 0===a?void 0:a.indexOf(t))>-1||(null===e||void 0===e||null===(r=e.email)||void 0===r||null===(c=r.toUpperCase())||void 0===c?void 0:c.indexOf(t))>-1||(null===e||void 0===e||null===(i=e.mobile)||void 0===i||null===(o=i.toUpperCase())||void 0===o?void 0:o.indexOf(t))>-1||(null===e||void 0===e||null===(s=e.address)||void 0===s||null===(l=s.street)||void 0===l||null===(d=l.toUpperCase())||void 0===d?void 0:d.indexOf(t))>-1||(null===e||void 0===e||null===(u=e.address)||void 0===u||null===(j=u.houseNumber)||void 0===j||null===(b=j.toUpperCase())||void 0===b?void 0:b.indexOf(t))>-1||(null===e||void 0===e||null===(p=e.address)||void 0===p||null===(O=p.city)||void 0===O||null===(x=O.toUpperCase())||void 0===x?void 0:x.indexOf(t))>-1}));l(a)}else l(n)}})})})})})},mc=function(e){return{type:le,payload:e}},fc=function(e){return{type:ue,payload:e}},hc=n(556),gc=n(755),vc=n(989),yc=Object(ct.a)((function(e){return{imageContainer:{alignItems:"center",textAlign:"center",marginTop:10},closeButton:{position:"absolute",right:"10px",top:"5px"},textCenter:{textAlign:"center",padding:5},submitButton:{textAlign:"right",marginTop:20},topSection:{alignItem:"center"},bottomSection:{marginTop:20},textField:{marginBottom:10},genderContainer:{flexDirection:"row"}}})),Cc=function(){var e=yc(),t=Object(o.c)(),n=Object(a.useState)(null),r=Object(Xt.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)({name:"",about:"",email:"",mobile:"",gender:"",age:"",nationality:""}),l=Object(Xt.a)(s,2),j=l[0],b=l[1],p=Object(a.useState)(null),O=Object(Xt.a)(p,2),x=O[0],m=O[1],f=Object(a.useState)(null),h=Object(Xt.a)(f,2),g=h[0],v=h[1],y=Object(a.useState)({image:"",name:"",email:"",mobile:"",gender:""}),C=Object(Xt.a)(y,2),k=C[0],S=C[1],w=Object(o.d)((function(e){return e.staff})),N=w.dialogId,D=w.isDialogOpen,T=w.data;Object(a.useEffect)((function(){return function(){S({image:"",name:"",about:"",email:"",mobile:"",gender:"",age:"",nationality:""}),i(null),b({name:"",about:"",email:"",mobile:"",gender:"",age:"",nationality:""}),v(""),m("")}}),[D]),Object(a.useEffect)((function(){if(N){var e=T.findIndex((function(e){return e._id===N}));if(-1!==e){var t=T[e];i(t._id),b({name:t.name,about:t.about,email:t.email,mobile:t.mobile,gender:t.gender,age:t.age,nationality:t.nationality}),v(t.image)}}}),[N,T]);var E=function(e){b(Object(I.a)(Object(I.a)({},j),{},Object(_.a)({},e.target.name,e.target.value)))},A=function(){t({type:de})},B=function(){var e=Object(u.a)(d.a.mark((function e(n){var a,r,i,o,s,l,u,b,p,O,m;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!c){e.next=6;break}if(x||g){e.next=4;break}return e.abrupt("return",S(Object(I.a)(Object(I.a)({},k),{},{image:"Please select an image."})));case 4:e.next=9;break;case 6:if(c){e.next=9;break}if(x&&g){e.next=9;break}return e.abrupt("return",S(Object(I.a)(Object(I.a)({},k),{},{image:"Please select an image."})));case 9:if(a=j.age,r=j.about,i=j.gender,o=j.email,s=j.mobile,l=j.name,u=j.nationality,""!==i&&""!==o&&""!==s&&""!==l){e.next=17;break}return b={image:"",name:"",email:"",mobile:"",gender:""},""===i&&(b.gender="Invalid value!"),""===o&&(b.email="Invalid value!"),""===s&&(b.mobile="Invalid value!"),""===l&&(b.name="Invalid value!"),e.abrupt("return",S(b));case 17:if(p=new FormData,x&&p.append("image",x),p.append("name",l||""),p.append("mobile",s||""),p.append("email",o||""),p.append("gender",i||""),p.append("age",a||""),p.append("nationality",u||""),p.append("about",r||""),!N||!c){e.next=34;break}return e.next=29,_t("/staff/".concat(c),"patch",p);case 29:O=e.sent,t((d={data:O.data.staff,id:c},{type:je,payload:d})),A(),e.next=40;break;case 34:return e.next=36,_t("/staff","post",p);case 36:m=e.sent,console.log(m),t(fc(m.data.staff)),A();case 40:case"end":return e.stop()}var d}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(It.jsxs)(Ya.a,{onClose:A,"aria-labelledby":"simple-dialog-title",open:D,maxWidth:"md",children:[Object(It.jsxs)($a.a,{id:"simple-dialog-title",children:[Object(It.jsx)(Fa,{title:"Close",onClick:A,btnClass:e.closeButton,children:Object(It.jsx)(Za.a,{})}),Object(It.jsx)(Ht.a,{variant:"h3",children:"Staff Details"})]}),Object(It.jsx)(Ja.a,{children:Object(It.jsx)("form",{onSubmit:B,children:Object(It.jsxs)(Bn.a,{container:!0,spacing:2,children:[Object(It.jsx)(Bn.a,{item:!0,xs:12,sm:6,children:Object(It.jsxs)("div",{onClick:function(){document.getElementById("staffImage").click()},style:{textAlign:"center"},children:[Object(It.jsx)("input",{name:"staffImage",id:"staffImage",type:"file",hidden:!0,accept:"image/*",onChange:function(e){if(e.target.files[0]){m(e.target.files[0]);var t=new FileReader;t.addEventListener("load",(function(){v(t.result)})),t.readAsDataURL(e.target.files[0])}}}),Object(It.jsx)(Ua,{extraLarge:!0,image:g}),k.image&&Object(It.jsx)("div",{style:{textAlign:"center"},children:Object(It.jsx)(Ht.a,{variant:"caption",color:"error",children:k.image})})]})}),Object(It.jsxs)(Bn.a,{item:!0,xs:12,sm:6,children:[Object(It.jsx)("div",{className:e.textField,children:Object(It.jsx)(Gn.a,{name:"name",value:j.name,onChange:E,error:!!k.name,helperText:k.name,label:"Name",pattern:"^\\w+(\\s+\\w+)*$",fullWidth:!0,required:!0})}),Object(It.jsx)("div",{className:e.textField,children:Object(It.jsx)(Gn.a,{name:"email",value:j.email,onChange:E,error:!!k.email,helperText:k.email,label:"Email",type:"email",fullWidth:!0,required:!0})}),Object(It.jsx)("div",{className:e.textField,children:Object(It.jsx)(Gn.a,{name:"mobile",value:j.mobile,onChange:E,error:!!k.mobile,helperText:k.mobile,label:"Mobile",fullWidth:!0,required:!0})}),Object(It.jsx)("div",{className:e.textField,children:Object(It.jsx)(Gn.a,{name:"nationality",value:j.nationality,onChange:E,error:!!k.nationality,helperText:k.nationality,label:"Nationality",fullWidth:!0})}),Object(It.jsx)("div",{className:e.textField,children:Object(It.jsx)(Gn.a,{name:"age",value:j.age,onChange:E,error:!!k.age,helperText:k.age,label:"Age",type:"number",fullWidth:!0})}),Object(It.jsx)("div",{className:e.textField,children:Object(It.jsxs)(wr.a,{component:"fieldset",children:[Object(It.jsx)(hc.a,{component:"legend",error:!!k.gender,helperText:k.gender,required:!0,children:"Gender"}),Object(It.jsxs)(gc.a,{"aria-label":"gender",name:"gender",value:j.gender,onChange:E,className:e.genderContainer,children:[Object(It.jsx)(oc.a,{value:"female",control:Object(It.jsx)(vc.a,{}),label:"Female"}),Object(It.jsx)(oc.a,{value:"male",control:Object(It.jsx)(vc.a,{}),label:"Male"})]})]})})]}),Object(It.jsx)(Bn.a,{item:!0,sm:12,children:Object(It.jsx)(Gn.a,{name:"about",value:j.about,onChange:E,error:!!k.about,helperText:k.about,label:"About",pattern:"^\\w+(\\s+\\w+)*$",fullWidth:!0,multiline:!0,rows:3})}),Object(It.jsx)(Bn.a,{item:!0,sm:12,className:e.submitButton,children:Object(It.jsx)(pn.a,{variant:"contained",color:"primary",type:"submit",children:c?"Update":"Submit"})})]})})})]})},kc=Object(ct.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},expandableRow:{display:"flex",flexDirection:"column",padding:"0 5%"},expandableColumn:{display:"flex",alignItems:"center"}}})),Ic=function(){var e=kc(),t=Object(o.c)(),n=Object(o.d)((function(e){return e.staff.data})),r=Object(o.d)((function(e){return e.admin.userType})),c=Object(o.d)((function(e){return e.admin.data.hasPermission})),i=r===Ot,s=Object(a.useState)([]),l=Object(Xt.a)(s,2),j=l[0],b=l[1];Object(a.useEffect)((function(){b(n)}),[b,n]),Object(a.useEffect)((function(){(function(){var e=Object(u.a)(d.a.mark((function e(){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("/staff");case 3:n=e.sent,a=n.data,t((r=a.data.staffs,{type:se,payload:r})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}var r}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[t]);var p=function(e){var t=e.target.value.toUpperCase();if(t){var a=n.filter((function(e){var n,a,r,c,i,o,s,l,d,u,j,b,p,O,x;return(null===e||void 0===e||null===(n=e.name)||void 0===n||null===(a=n.toUpperCase())||void 0===a?void 0:a.indexOf(t))>-1||(null===e||void 0===e||null===(r=e.email)||void 0===r||null===(c=r.toUpperCase())||void 0===c?void 0:c.indexOf(t))>-1||(null===e||void 0===e||null===(i=e.about)||void 0===i||null===(o=i.toUpperCase())||void 0===o?void 0:o.indexOf(t))>-1||(null===e||void 0===e||null===(s=e.mobile)||void 0===s||null===(l=s.toUpperCase())||void 0===l?void 0:l.indexOf(t))>-1||(null===e||void 0===e||null===(d=e.gender)||void 0===d||null===(u=d.toUpperCase())||void 0===u?void 0:u.indexOf(t))>-1||(null===e||void 0===e||null===(j=e.age)||void 0===j||null===(b=j.toString())||void 0===b||null===(p=b.toUpperCase())||void 0===p?void 0:p.indexOf(t))>-1||(null===e||void 0===e||null===(O=e.nationality)||void 0===O||null===(x=O.toUpperCase())||void 0===x?void 0:x.indexOf(t))>-1}));b(a)}else b(n)},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!c)return Yn();t(mc(e))},m=[{name:"UUID",cell:function(e){return Object(It.jsx)(ua,{string:e._id})}},{name:"Name",cell:function(e){return Object(It.jsx)(za,{image:e.image,name:e.name})},sortable:!0},{name:"Email",cell:function(e){return Object(It.jsx)(ua,{string:e.email})},sortable:!0},{name:"Phone",cell:function(e){return Object(It.jsx)(ua,{string:e.mobile})},sortable:!0},{name:"Gender",selector:"gender",sortable:!0},{name:"Age",selector:"age",sortable:!0},{name:"Nationality",selector:"nationality",sortable:!0},{name:"Id Proof",cell:function(e){return Object(It.jsx)(Ua,{image:e.idProof})},sortable:!0},{name:"About",cell:function(e){return Object(It.jsx)(ua,{string:e.about})},sortable:!0},{name:"Joined On",cell:function(e){return ft(e.createdAt)},sortable:!0},{name:"Actions",cell:function(e){return Object(It.jsxs)("div",{children:[Object(It.jsx)(Fa,{onClick:function(){return O(e._id)},title:"Edit",children:Object(It.jsx)(Pa,{})}),Object(It.jsx)(Fa,{title:"Delete",onClick:function(){return function(e){if(!c)return Yn();Hn().then(function(){var n=Object(u.a)(d.a.mark((function n(a){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a){n.next=12;break}return n.prev=1,n.next=4,x.a.delete("/staff/".concat(e));case 4:200===n.sent.data.status&&(t({type:be,payload:e}),$n("Deleted!","Service has been deleted!","success")),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}()).catch((function(e){return console.log(e)}))}(e._id)},children:Object(It.jsx)(Va,{})})]})},sortable:!0}],f=function(t){var n=t.data;return Object(It.jsxs)("div",{className:e.expandableRow,children:[Object(It.jsxs)("div",{className:e.expandableColumn,children:[Object(It.jsx)(Ht.a,{variant:"body1",children:"Company Name:\xa0"}),Object(It.jsx)(Ht.a,{variant:"body2",color:"textSecondary",children:Et(n.vendorId.companyName)})]}),Object(It.jsxs)("div",{className:e.expandableColumn,children:[Object(It.jsx)(Ht.a,{variant:"body1",children:"Email:\xa0"}),Object(It.jsx)(Ht.a,{variant:"body2",color:"textSecondary",children:Et(n.vendorId.email)})]}),Object(It.jsxs)("div",{className:e.expandableColumn,children:[Object(It.jsx)(Ht.a,{variant:"body1",children:"Mobile:\xa0"}),Object(It.jsx)(Ht.a,{variant:"body2",color:"textSecondary",children:Et(n.vendorId.mobile)})]}),Object(It.jsxs)("div",{className:e.expandableColumn,children:[Object(It.jsx)(Ht.a,{variant:"body1",children:"Address:\xa0"}),Object(It.jsx)(Ht.a,{variant:"body2",color:"textSecondary",children:"".concat(n.vendorId.address.houseNumber,", ").concat(n.vendorId.address.street," ").concat(n.vendorId.address.city)})]})]})};return Object(It.jsxs)(Jt,{className:e.root,title:"Staffs",children:[Object(It.jsxs)(qt.a,{maxWidth:!1,children:[!i&&Object(It.jsx)(ea,{title:"Staff",onAddButtonClick:O}),Object(It.jsx)(zt.a,{mt:3,children:i?Object(It.jsx)(ra,{data:j,title:"Staffs",columns:m,actions:Object(It.jsx)(sa,{title:"Staffs",onSearch:p}),expandableRows:!0,expandableRowsComponent:Object(It.jsx)(f,{})}):Object(It.jsx)(ra,{data:j,title:"Staffs",columns:m,actions:Object(It.jsx)(sa,{title:"Staffs",onSearch:p})})})]}),Object(It.jsx)(Cc,{})]})},Sc=Object(ct.a)((function(){return{closeDialog:{position:"absolute",right:"10px",top:"5px"},categoryAvatar:{width:150,height:150,borderRadius:5,marginRight:10,marginBottom:5},nameRow:{margin:"10px 0"},submitButton:{textAlign:"right"}}})),wc=function(e){var t=Object(o.c)(),n=Sc(),r=Object(o.d)((function(e){return e.category})),c=r.isDialogOpen,i=r.data,s=r.dialogId,l=Object(a.useState)(null),j=Object(Xt.a)(l,2),b=j[0],p=j[1],O=Object(a.useState)(""),x=Object(Xt.a)(O,2),m=x[0],f=x[1],h=Object(a.useState)(null),g=Object(Xt.a)(h,2),v=g[0],y=g[1],C=Object(a.useState)(""),k=Object(Xt.a)(C,2),S=k[0],w=k[1];Object(a.useEffect)((function(){if(s){var e=i.findIndex((function(e){return e._id===s}));if(e>=0){var t=i[e];p(t._id),f(t.name),w(t.image)}}}),[s,i]),Object(a.useEffect)((function(){return function(){f(""),y(null),w(null),p(null),E({name:""})}}),[c]);var N=Object(a.useState)({name:""}),D=Object(Xt.a)(N,2),T=D[0],E=D[1],A=function(){t({type:fe})},_=function(){var e=Object(u.a)(d.a.mark((function e(n){var a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),m){e.next=3;break}return e.abrupt("return",E(Object(I.a)(Object(I.a)({},T),{},{name:"Invalid value."})));case 3:if(a=new FormData,v&&a.append("image",v),a.append("name",m),e.prev=6,!s||!b){e.next=15;break}return e.next=10,_t("/category/".concat(b),"patch",a);case 10:r=e.sent,t((i={data:r.data.category,id:b},{type:ge,payload:i})),A(),e.next=20;break;case 15:return e.next=17,_t("/category","post",a);case 17:c=e.sent,t(ma(c.data.category)),A();case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(6),console.log(e.t0);case 25:case"end":return e.stop()}var i}),e,null,[[6,22]])})));return function(t){return e.apply(this,arguments)}}();return Object(It.jsxs)(Ya.a,{open:c,onClose:A,"aria-labelledby":"responsive-dialog-title",children:[Object(It.jsx)(Fa,{title:"Close",onClick:A,btnClass:n.closeDialog,children:Object(It.jsx)(Za.a,{color:"primary"})}),Object(It.jsx)($a.a,{id:"responsive-dialog-title",children:Object(It.jsx)(Ht.a,{variant:"h3",children:"Main Service Details"})}),Object(It.jsx)(Ja.a,{children:Object(It.jsxs)("form",{onSubmit:_,children:[Object(It.jsxs)("div",{className:n.categoryDialog,children:[Object(It.jsxs)("div",{onClick:function(){document.getElementById("categoryImage").click()},style:{textAlign:"center"},children:[Object(It.jsx)("input",{name:"categoryImage",id:"categoryImage",type:"file",hidden:!0,accept:"image/*",onChange:function(e){if(e.target.files[0]){y(e.target.files[0]);var t=new FileReader;t.addEventListener("load",(function(){w(t.result)})),t.readAsDataURL(e.target.files[0])}}}),Object(It.jsx)(Ua,{extraLarge:!0,image:S}),T.image&&Object(It.jsx)("div",{style:{textAlign:"center"},children:Object(It.jsx)(Ht.a,{variant:"caption",color:"error",children:T.image})})]}),Object(It.jsx)("div",{className:n.nameRow,children:Object(It.jsx)(Gn.a,{value:m,onChange:function(e){return f(e.target.value)},error:!!T.name,helperText:T.name,label:"Title",pattern:"^\\w+(\\s+\\w+)*$"})})]}),Object(It.jsx)("div",{className:n.submitButton,children:Object(It.jsx)(pn.a,{variant:"contained",color:"primary",type:"submit",children:"Submit"})})]})})]})},Nc=function(){return Object(It.jsx)(sr.a,{size:"small",label:"Edited"})},Dc=Object(ct.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),Tc=function(){var e=Dc(),t=Object(o.c)(),n=Object(a.useState)([]),r=Object(Xt.a)(n,2),c=r[0],i=r[1],s=Object(o.d)((function(e){return e.admin.data.hasPermission})),l=Object(o.d)((function(e){return e.category})).data;Object(a.useEffect)((function(){i(l)}),[l]),Object(a.useEffect)((function(){(function(){var e=Object(u.a)(d.a.mark((function e(){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("/category");case 3:n=e.sent,a=n.data,t(Oa(a.data.categories)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[t]);var j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!s)return Yn();t(xa(e))},b=function(){var e=Object(u.a)(d.a.mark((function e(n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}return e.abrupt("return",Yn());case 2:return e.prev=2,e.next=5,x.a.put("/category/toggleShow/".concat(n));case 5:a=e.sent,200===a.data.status&&t({type:ye,payload:{id:n}}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),p=[{name:"UUID",selector:"_id"},{name:"Image",cell:function(e){return e.hasImage?Object(It.jsx)(Ua,{image:e.image}):"No Image"}},{name:"Title",selector:"name",sortable:!0},{name:"Show",cell:function(e){return Object(It.jsx)(cr,{onChange:function(){return b(e._id)},checked:e.show})}},{name:"Created At",cell:function(e){return ft(e.createdAt)},sortable:!0},{name:"Actions",cell:function(e){return Object(It.jsxs)("div",{children:[Object(It.jsx)(Fa,{onClick:function(){return j(e._id)},title:"Edit",children:Object(It.jsx)(Pa,{color:"primary"})}),Object(It.jsx)(Fa,{title:"Delete",onClick:function(){return e._id,Jn()},children:Object(It.jsx)(Va,{color:"error"})}),e.createdAt!==e.updatedAt&&Object(It.jsx)(Nc,{})]})}}];return Object(It.jsxs)(Jt,{className:e.root,title:"Main Service",children:[Object(It.jsxs)(qt.a,{maxWidth:!1,children:[Object(It.jsx)(ea,{title:"Main Service",onAddButtonClick:j}),Object(It.jsx)(zt.a,{mt:3,children:Object(It.jsx)(ra,{data:c,title:"Main Services",columns:p,actions:Object(It.jsx)(sa,{title:"Main Service",onSearch:function(e){var t=e.target.value.toUpperCase();if(t){var n=l.filter((function(e){var n,a;return(null===e||void 0===e||null===(n=e.name)||void 0===n||null===(a=n.toUpperCase())||void 0===a?void 0:a.indexOf(t))>-1}));i(n)}else i(l)}})})})]}),Object(It.jsx)(wc,{})]})},Ec=Object(ct.a)((function(){return{closeDialog:{position:"absolute",right:"10px",top:"5px"},bannerImage:{marginBottom:10},nameRow:{margin:"10px 0"},submitButton:{textAlign:"right"}}})),Ac=function(e){var t=Object(o.c)(),n=Ec(),r=Object(o.d)((function(e){return e.banner.isDialogOpen})),c=Object(a.useState)(null),i=Object(Xt.a)(c,2),s=i[0],l=i[1],j=Object(a.useState)(""),b=Object(Xt.a)(j,2),p=b[0],O=b[1],m=Object(a.useState)(""),f=Object(Xt.a)(m,2),h=f[0],g=f[1];Object(a.useEffect)((function(){r||(g(""),l(null),O(""))}),[r]);var v=function(){t({type:we})},y=function(){var e=Object(u.a)(d.a.mark((function e(n){var a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),s&&p){e.next=3;break}return e.abrupt("return",g("Please choose an image"));case 3:return(a=new FormData).append("image",s),e.prev=5,e.next=8,x.a.post("/banner",a);case 8:r=e.sent,c=r.data,console.log(c),t((i=c.data.banner,{type:Ne,payload:i})),v(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),console.log(e.t0);case 18:case"end":return e.stop()}var i}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(It.jsxs)(Ya.a,{open:r,onClose:v,"aria-labelledby":"responsive-dialog-name",children:[Object(It.jsx)(Fa,{title:"Close",onClick:v,btnClass:n.closeDialog,children:Object(It.jsx)(Za.a,{color:"primary"})}),Object(It.jsx)($a.a,{id:"responsive-dialog-name",children:Object(It.jsx)(Ht.a,{variant:"h3",children:"Banner Image"})}),Object(It.jsx)(Ja.a,{children:Object(It.jsxs)("form",{onSubmit:y,children:[Object(It.jsxs)("div",{onClick:function(){document.getElementById("bannerImage").click()},className:n.bannerImage,children:[Object(It.jsx)("input",{name:"bannerImage",id:"bannerImage",type:"file",hidden:!0,accept:"image/*",onChange:function(e){if(e.target.files[0]){l(e.target.files[0]);var t=new FileReader;t.addEventListener("load",(function(){O(t.result)})),t.readAsDataURL(e.target.files[0])}}}),Object(It.jsx)(Ua,{extraLarge:!0,image:p}),h&&Object(It.jsx)("div",{style:{textAlign:"center"},children:Object(It.jsx)(Ht.a,{variant:"caption",color:"error",children:h})})]}),Object(It.jsx)("div",{className:n.submitButton,children:Object(It.jsx)(pn.a,{variant:"contained",color:"primary",type:"submit",children:"Submit"})})]})})]})},_c=Object(ct.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),Bc=function(){var e=Object(o.c)(),t=_c(),n=Object(a.useState)([]),r=Object(Xt.a)(n,2),c=r[0],i=r[1],s=Object(o.d)((function(e){return e.admin.data.hasPermission})),l=Object(o.d)((function(e){return e.banner.data}));Object(a.useEffect)((function(){(function(){var t=Object(u.a)(d.a.mark((function t(){var n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.get("/banner");case 3:n=t.sent,a=n.data,e((r=a.data.banners,{type:Ie,payload:r})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}var r}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(a.useEffect)((function(){i(l)}),[l]);var j=function(){var t=Object(u.a)(d.a.mark((function t(n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.put("/banner/toggleIsLive/".concat(n));case 3:a=t.sent,200===a.data.status&&e({type:Te,payload:{id:n}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=Object(u.a)(d.a.mark((function t(n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.put("/banner/toggleShow/".concat(n));case 3:a=t.sent,200===a.data.status&&e({type:Ee,payload:{id:n}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),p=[{name:"Image",cell:function(e){return Object(It.jsx)(Ua,{image:e.image})}},{name:"Is Live",cell:function(e){return Object(It.jsx)(cr,{onChange:function(){return j(e._id)},checked:e.isLive})}},{name:"Show",cell:function(e){return Object(It.jsx)(cr,{onChange:function(){return b(e._id)},checked:e.show})}},{name:"Created At",cell:function(e){return ft(e.createdAt)},sortable:!0},{name:"Actions",cell:function(t){return Object(It.jsx)("div",{children:Object(It.jsx)(Fa,{title:"Delete",onClick:function(){return function(t){if(!s)return Yn();Hn().then(function(){var n=Object(u.a)(d.a.mark((function n(a){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a){n.next=12;break}return n.prev=1,n.next=4,x.a.delete("/banner/".concat(t));case 4:200===n.sent.data.status&&(e({type:De,payload:t}),$n("Deleted!","Category has been deleted!","success")),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}()).catch((function(e){return console.log(e)}))}(t._id)},children:Object(It.jsx)(Va,{color:"error"})})})}}];return Object(It.jsxs)(Jt,{className:t.root,title:"Banner",children:[Object(It.jsxs)(qt.a,{maxWidth:!1,children:[Object(It.jsx)(ea,{title:"Banner",onAddButtonClick:function(){if(!s)return Yn();e({type:Se})}}),Object(It.jsx)(zt.a,{mt:3,children:Object(It.jsx)(ra,{data:c,title:"Banners",columns:p})})]}),Object(It.jsx)(Ac,{})]})},Rc=function(e){return{type:Re,payload:e}},Lc=function(e){return{type:Ue,payload:e}},Uc=Object(ct.a)((function(e){return{root:{},importButton:{marginRight:e.spacing(1)},exportButton:{marginRight:e.spacing(1)}}})),Fc=function(e){var t=e.className,n=e.onAddButtonClick,a=Object(yt.a)(e,["className","onAddButtonClick"]),r=Uc();return Object(It.jsxs)("div",Object(I.a)(Object(I.a)({className:Object(Rt.a)(r.root,t)},a),{},{children:[Object(It.jsx)(zt.a,{display:"flex",justifyContent:"flex-end",children:Object(It.jsx)(pn.a,{color:"primary",variant:"contained",onClick:n,children:"Add New Tutorial"})}),Object(It.jsx)(zt.a,{mt:3,children:Object(It.jsx)(Un.a,{children:Object(It.jsx)(Fn.a,{children:Object(It.jsx)(sa,{title:"Tutorials"})})})})]}))},Wc=Object(ct.a)((function(){return{closeDialog:{position:"absolute",right:"10px",top:"5px"},tutorialAvatar:{width:150,height:150,borderRadius:5,marginRight:10,marginBottom:5},titleRow:{margin:"10px 0"},submitButton:{textAlign:"right"}}})),Pc=function(){var e=Object(o.c)(),t=Wc(),n=Object(o.d)((function(e){return e.tutorial})),r=n.isDialogOpen,c=n.data,i=n.dialogId,s=Object(a.useState)(null),l=Object(Xt.a)(s,2),j=l[0],b=l[1],p=Object(a.useState)(""),O=Object(Xt.a)(p,2),x=O[0],m=O[1],f=Object(a.useState)(null),h=Object(Xt.a)(f,2),g=h[0],v=h[1],y=Object(a.useState)(""),C=Object(Xt.a)(y,2),k=C[0],S=C[1];Object(a.useEffect)((function(){if(i){var e=c.findIndex((function(e){return e._id===i}));if(e>=0){var t=c[e];b(t._id),m(t.title),S(t.image)}}}),[i,c]),Object(a.useEffect)((function(){return function(){m(""),v(null),S(null),b(null),T({title:"",image:""})}}),[r]);var w=Object(a.useState)({title:"",image:""}),N=Object(Xt.a)(w,2),D=N[0],T=N[1],E=function(){e({type:Le})},A=function(){var t=Object(u.a)(d.a.mark((function t(n){var a,r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!j){t.next=6;break}if(g||k){t.next=4;break}return t.abrupt("return",T(Object(I.a)(Object(I.a)({},D),{},{image:"Please select an image."})));case 4:t.next=9;break;case 6:if(j){t.next=9;break}if(g&&k){t.next=9;break}return t.abrupt("return",T(Object(I.a)(Object(I.a)({},D),{},{image:"Please select an image."})));case 9:if(x){t.next=11;break}return t.abrupt("return",T(Object(I.a)(Object(I.a)({},D),{},{title:"Invalid value."})));case 11:if(a=new FormData,g&&a.append("image",g),a.append("title",x),t.prev=14,!i||!j){t.next=23;break}return t.next=18,_t("/tutorial/".concat(j),"patch",a);case 18:r=t.sent,e((o={data:r.data.tutorial,id:j},{type:Fe,payload:o})),E(),t.next=28;break;case 23:return t.next=25,_t("/tutorial","post",a);case 25:c=t.sent,e(Lc(c.data.tutorial)),E();case 28:t.next=33;break;case 30:t.prev=30,t.t0=t.catch(14),console.log(t.t0);case 33:case"end":return t.stop()}var o}),t,null,[[14,30]])})));return function(e){return t.apply(this,arguments)}}();return Object(It.jsxs)(Ya.a,{open:r,onClose:E,"aria-labelledby":"responsive-dialog-title",maxWidth:"sm",children:[Object(It.jsx)(Fa,{title:"Close",onClick:E,btnClass:t.closeDialog,children:Object(It.jsx)(Za.a,{color:"primary"})}),Object(It.jsx)($a.a,{id:"responsive-dialog-title",children:Object(It.jsx)(Ht.a,{variant:"h3",children:"Tutorial Details"})}),Object(It.jsx)(Ja.a,{children:Object(It.jsxs)("form",{onSubmit:A,children:[Object(It.jsxs)("div",{className:t.tutorialDialog,children:[Object(It.jsxs)("div",{onClick:function(){document.getElementById("tutorialImage").click()},style:{textAlign:"center"},children:[Object(It.jsx)("input",{title:"tutorialImage",id:"tutorialImage",type:"file",hidden:!0,accept:"image/*",onChange:function(e){if(e.target.files[0]){v(e.target.files[0]);var t=new FileReader;t.addEventListener("load",(function(){S(t.result)})),t.readAsDataURL(e.target.files[0])}}}),Object(It.jsx)(Ua,{extraLarge:!0,image:k}),D.image&&Object(It.jsx)("div",{style:{textAlign:"center"},children:Object(It.jsx)(Ht.a,{variant:"caption",color:"error",children:D.image})})]}),Object(It.jsx)("div",{className:t.titleRow,children:Object(It.jsx)(Gn.a,{value:x,onChange:function(e){return m(e.target.value)},error:!!D.title,helperText:D.title,label:"Title",pattern:"^\\w+(\\s+\\w+)*$"})})]}),Object(It.jsx)("div",{className:t.submitButton,children:Object(It.jsx)(pn.a,{variant:"contained",color:"primary",type:"submit",children:"Submit"})})]})})]})},Mc=function(e){return{type:Ve,payload:e}},Vc=function(e){return{type:Ge,payload:e}},Gc=function(e){return{type:qe,payload:e}},zc=n(573),qc=n.n(zc),Hc=Object(ct.a)((function(e){return{root:{display:"flex",flexDirection:"column",margin:5},statsItem:{alignItems:"center",display:"flex"},statsIcon:{marginRight:e.spacing(1)},image:{width:"100%",borderRadius:5,height:250,objectFit:"contain"},video:{borderRadius:5,width:"100%",height:250,objectFit:"contain"}}})),Yc=function(e){var t=e.className,n=e.data,a=e.onDelete,r=e.video,c=Object(yt.a)(e,["className","data","onDelete","video"]),i=Hc();return Object(It.jsx)(Bn.a,{item:!0,sm:12,md:4,children:Object(It.jsxs)(Un.a,Object(I.a)(Object(I.a)({className:Object(Rt.a)(i.root,t)},c),{},{children:[Object(It.jsxs)(Fn.a,{children:[r?Object(It.jsxs)("video",{controls:!0,className:i.video,children:[Object(It.jsx)("source",{src:n.url}),"Sorry, your browser doesn't support embedded videos."]}):Object(It.jsx)(zt.a,{component:s.b,to:"/admin/video/".concat(n._id),children:Object(It.jsx)("img",{src:n.image,className:i.image,alt:n.title})}),Object(It.jsx)(Ht.a,{align:"center",color:"textPrimary",gutterBottom:!0,variant:"h4",children:n.title})]}),Object(It.jsx)(zt.a,{flexGrow:1}),Object(It.jsx)(Zt.a,{}),Object(It.jsx)(zt.a,{p:2,children:Object(It.jsxs)(Bn.a,{container:!0,justify:"space-between",spacing:2,children:[Object(It.jsxs)(Bn.a,{className:i.statsItem,item:!0,children:[Object(It.jsx)(qc.a,{className:i.statsIcon,color:"action"}),Object(It.jsxs)(Ht.a,{color:"textSecondary",display:"inline",variant:"body2",children:["Created ",vt(n.createdAt)]})]}),Object(It.jsx)(Bn.a,{className:i.statsItem,item:!0,children:Object(It.jsx)(Fa,{title:"Delete",onClick:function(){return a(n._id)},children:Object(It.jsx)(Va,{})})})]})})]}))})},Jc=Object(ct.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),$c=function(){var e=Jc(),t=Object(o.c)(),n=Object(a.useState)([]),r=Object(Xt.a)(n,2),c=r[0],i=r[1],s=Object(o.d)((function(e){return e.tutorial})).data,l=Object(o.d)((function(e){return e.admin.data.hasPermission}));Object(a.useEffect)((function(){i(s)}),[s]),Object(a.useEffect)((function(){(function(){var e=Object(u.a)(d.a.mark((function e(){var n,a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("/tutorial");case 3:return n=e.sent,a=n.data,t((i=a.data.tutorials,{type:Be,payload:i})),e.next=8,x.a.get("/video");case 8:r=e.sent,c=r.data,t(Mc(c.data.videos)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}var i}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}})()()}),[t]);var j=function(e){if(!l)return Yn();Hn().then(function(){var n=Object(u.a)(d.a.mark((function n(a){var r;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a){n.next=12;break}return n.prev=1,n.next=4,x.a.delete("/tutorial/".concat(e));case 4:r=n.sent,200===r.data.status&&(t({type:We,payload:e}),$n("Deleted!","Tutorial has been deleted successfully!","success")),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}()).catch((function(e){return console.log(e)}))};return Object(It.jsxs)(Jt,{className:e.root,title:"Tutorials",children:[Object(It.jsxs)(qt.a,{maxWidth:!1,children:[Object(It.jsx)(Fc,{onAddButtonClick:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!l)return Yn();t(Rc(e))}}),Object(It.jsx)(zt.a,{mt:3,children:Object(It.jsx)(Bn.a,{container:!0,spacing:3,children:c.map((function(e){return Object(It.jsx)(Yc,{data:e,onDelete:j},e._id)}))})})]}),Object(It.jsx)(Pc,{})]})},Kc=Object(ct.a)((function(e){return{root:{},importButton:{marginRight:e.spacing(1)},exportButton:{marginRight:e.spacing(1)}}})),Xc=function(e){var t=e.className,n=e.onAddButtonClick,a=Object(yt.a)(e,["className","onAddButtonClick"]),r=Kc();return Object(It.jsxs)("div",Object(I.a)(Object(I.a)({className:Object(Rt.a)(r.root,t)},a),{},{children:[Object(It.jsx)(zt.a,{display:"flex",justifyContent:"flex-end",children:Object(It.jsx)(pn.a,{color:"primary",variant:"contained",onClick:n,children:"Add New Video"})}),Object(It.jsx)(zt.a,{mt:3,children:Object(It.jsx)(Un.a,{children:Object(It.jsx)(Fn.a,{children:Object(It.jsx)(sa,{title:"Video"})})})})]}))},Qc=(Object(ct.a)((function(e){return{formControl:{minWidth:120,marginRight:30},dropdown:{display:"flex",flexDirection:"column",alignItems:"baseline","&>span":{marginLeft:8}}}})),Object(ct.a)((function(){return{closeDialog:{position:"absolute",right:"10px",top:"5px"},tutorialAvatar:{width:150,height:150,borderRadius:5,marginRight:10,marginBottom:5},titleRow:{margin:"10px 0"},submitButton:{textAlign:"right"},video:{width:"100%",height:"250px",objectFit:"contain"}}}))),Zc=function(){var e=Object(o.c)(),t=Qc(),n=Object(b.i)(),r=Object(o.d)((function(e){return e.video})),c=r.isDialogOpen,i=r.data,s=r.dialogId,l=Object(a.useState)(null),j=Object(Xt.a)(l,2),p=j[0],O=j[1],x=Object(a.useState)(""),m=Object(Xt.a)(x,2),f=m[0],h=m[1],g=Object(a.useState)(null),v=Object(Xt.a)(g,2),y=v[0],C=v[1],k=Object(a.useState)(""),S=Object(Xt.a)(k,2),w=S[0],N=S[1],D=Object(a.useState)({title:"",video:"",tutorialId:""}),T=Object(Xt.a)(D,2),E=T[0],A=T[1],_=n.tutorialId;Object(a.useEffect)((function(){if(s){var e=i.findIndex((function(e){return e._id===s}));if(e>=0){var t=i[e];O(t._id),h(t.title),N(t.video)}}}),[s,i]),Object(a.useEffect)((function(){return function(){h(""),C(null),N(null),O(null),A({title:"",video:"",tutorialId:""})}}),[c]);var B=function(){e({type:ze})},R=function(){var t=Object(u.a)(d.a.mark((function t(n){var a,r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),_){t.next=3;break}return t.abrupt("return",alert("Something went wrong! Please refresh the page."));case 3:if(!p){t.next=8;break}if(y||w){t.next=6;break}return t.abrupt("return",A(Object(I.a)(Object(I.a)({},E),{},{video:"Please select an video."})));case 6:t.next=11;break;case 8:if(p){t.next=11;break}if(y&&w){t.next=11;break}return t.abrupt("return",A(Object(I.a)(Object(I.a)({},E),{},{video:"Please select an video."})));case 11:if(f){t.next=13;break}return t.abrupt("return",A(Object(I.a)(Object(I.a)({},E),{},{title:"Invalid value."})));case 13:if(a=new FormData,y&&a.append("video",y),a.append("title",f),a.append("tutorialId",_),t.prev=17,!s||!p){t.next=26;break}return t.next=21,_t("/video/".concat(p),"patch",a);case 21:r=t.sent,e((i={data:r.data.video,id:p},{type:He,payload:i})),B(),t.next=31;break;case 26:return t.next=28,_t("/video","post",a);case 28:c=t.sent,e(Gc(c.data.video)),B();case 31:t.next=36;break;case 33:t.prev=33,t.t0=t.catch(17),console.log(t.t0);case 36:case"end":return t.stop()}var i}),t,null,[[17,33]])})));return function(e){return t.apply(this,arguments)}}();return Object(It.jsxs)(Ya.a,{open:c,onClose:B,"aria-labelledby":"responsive-dialog-title",children:[Object(It.jsx)(Fa,{title:"Close",onClick:B,btnClass:t.closeDialog,children:Object(It.jsx)(Za.a,{color:"primary"})}),Object(It.jsx)($a.a,{id:"responsive-dialog-title",children:Object(It.jsx)(Ht.a,{variant:"h3",children:"Tutorial Details"})}),Object(It.jsx)(Ja.a,{children:Object(It.jsxs)("form",{onSubmit:R,children:[Object(It.jsx)("div",{className:t.tutorialDialog,children:Object(It.jsxs)(Bn.a,{container:!0,spacing:2,children:[Object(It.jsx)(Bn.a,{item:!0,xs:12,sm:6,children:Object(It.jsxs)("div",{onClick:function(){document.getElementById("tutorialVideo").click()},children:[Object(It.jsx)("input",{title:"tutorialVideo",id:"tutorialVideo",type:"file",hidden:!0,accept:"video/*",onChange:function(e){if(e.target.files[0]){C(e.target.files[0]);var t=new FileReader;t.addEventListener("load",(function(){N(t.result)})),t.readAsDataURL(e.target.files[0])}}}),w?Object(It.jsxs)("video",{controls:!0,className:t.video,children:[Object(It.jsx)("source",{src:w}),"Sorry, your browser doesn't support embedded videos."]}):Object(It.jsx)(Ua,{extraLarge:!0,video:w}),E.video&&Object(It.jsx)("div",{style:{textAlign:"center"},children:Object(It.jsx)(Ht.a,{variant:"caption",color:"error",children:E.video})})]})}),Object(It.jsx)(Bn.a,{item:!0,xs:12,sm:6,children:Object(It.jsx)(Gn.a,{className:t.titleRow,value:f,onChange:function(e){return h(e.target.value)},error:!!E.title,helperText:E.title,label:"Title",pattern:"^\\w+(\\s+\\w+)*$"})})]})}),Object(It.jsx)("div",{className:t.submitButton,children:Object(It.jsx)(pn.a,{variant:"contained",color:"primary",type:"submit",children:"Submit"})})]})})]})},ei=Object(ct.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},productCard:{height:"100%"}}})),ti=function(){var e=ei(),t=Object(o.c)(),n=Object(b.i)(),r=Object(a.useState)([]),c=Object(Xt.a)(r,2),i=c[0],s=c[1],l=Object(o.d)((function(e){return e.video})).data,j=Object(o.d)((function(e){return e.admin.data.hasPermission}));Object(a.useEffect)((function(){if(n.tutorialId){var e=n.tutorialId,t=l.filter((function(t){return t.tutorialId===e}));s(t)}return function(){return s([])}}),[n,l]);var p=function(e){if(!j)return Yn();Hn().then(function(){var n=Object(u.a)(d.a.mark((function n(a){var r;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a){n.next=12;break}return n.prev=1,n.next=4,x.a.delete("/video/".concat(e));case 4:r=n.sent,200===r.data.status&&(t({type:Ye,payload:e}),$n("Deleted!","Video has been deleted successfully form this tutorial!","success")),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}()).catch((function(e){return console.log(e)}))};return Object(It.jsxs)(Jt,{className:e.root,title:"Videos",children:[Object(It.jsxs)(qt.a,{maxWidth:!1,children:[Object(It.jsx)(Xc,{onAddButtonClick:function(){return function(){t(Vc(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null))}()}}),Object(It.jsx)(zt.a,{mt:3,children:Object(It.jsx)(Bn.a,{container:!0,spacing:3,children:i.map((function(e){return Object(It.jsx)(Yc,{video:!0,data:e,onDelete:p},e._id)}))})})]}),Object(It.jsx)(Zc,{})]})},ni=Object(ct.a)((function(e){return{formControl:{minWidth:120,marginRight:30},dropdown:{display:"flex",flexDirection:"column",alignItems:"baseline","&>span":{marginLeft:8}}}})),ai=function(e){var t=e.category,n=e.onChange,a=e.error,r=ni(),c=Object(o.d)((function(e){return e.category.data}));return Object(It.jsxs)("div",{className:r.dropdown,children:[Object(It.jsxs)(wr.a,{className:r.formControl,variant:"outlined",size:"small",fullWidth:!0,children:[Object(It.jsx)(Sr.a,{children:"Main Service"}),Object(It.jsx)(Nr.a,{value:t,onChange:n,error:!!a,children:c.map((function(e,t){return Object(It.jsx)(kr.a,{value:e._id,children:e.name},t)}))})]}),a&&Object(It.jsx)(Ht.a,{variant:"caption",color:"error",children:a})]})},ri=r.a.memo(ai),ci=n(577),ii=n.n(ci),oi=n(576),si=n.n(oi),li=function(e){var t=e.error;return Object(It.jsx)(It.Fragment,{children:t&&Object(It.jsx)("div",{style:{textAlign:"center"},children:Object(It.jsx)(Ht.a,{variant:"caption",color:"error",children:t})})})},di=n(357),ui=n.n(di),ji=n(574),bi=n.n(ji),pi=n(575),Oi=n.n(pi)()((function(e){return{textAreaContainer:{padding:10,margin:"10px 0"}}})),xi=function(e){var t=e.title,n=e.count;return Object(It.jsxs)("div",{children:[Object(It.jsx)(Ht.a,{variant:"h5",color:"inherit",children:t}),Object(It.jsxs)(Ht.a,{variant:"caption",color:"textSecondary",children:["Only ",450-n," character remains."]})]})},mi=function(e){var t=e.title,n=e.onTextChange,c=e.placeholder,i=e.funcArg,o=e.error,s=e.value,l=Object(yt.a)(e,["title","onTextChange","placeholder","funcArg","error","value"]),d=Oi(),u=r.a.useState(ui.a.createValueFromString(s,"html")),j=Object(Xt.a)(u,2),b=j[0],p=j[1],O=r.a.useState(0),x=Object(Xt.a)(O,2),m=x[0],f=x[1],h=r.a.useState(""),g=Object(Xt.a)(h,2),v=g[0],y=g[1];Object(a.useEffect)((function(){return y(o)}),[o]);return Object(It.jsxs)(ya.a,{className:d.textAreaContainer,children:[Object(It.jsx)(xi,{title:t,count:m}),Object(It.jsx)(ui.a,Object(I.a)({value:b,editorStyle:{border:v?"2px solid red":"none"},onChange:function(e){n(i,e.toString("html")),p(e);var t=bi()(e.toString("html")).length;return f(t),y(t>450?"Text is too long!":"")},placeholder:c},l)),Object(It.jsx)(li,{error:v})]})},fi=n(1074),hi=function(){return Object(It.jsx)(fi.a,{size:"20",color:"green"})},gi=n(1075),vi=function(){return Object(It.jsx)(gi.a,{size:"20",color:"blue"})},yi=function(e){var t=e.title,n=e.large;return Object(It.jsx)(Ht.a,{variant:n?"h3":"h4",color:"inherit",children:t})},Ci=n(1076),ki=function(){return Object(It.jsx)(Ci.a,{size:"20",color:"red"})},Ii=Object(ct.a)((function(e){return{textField:{margin:"0 5px 5px 5px"},container:{display:"flex",flexDirection:"column",backgroundColor:e.palette.grey[100],padding:10,margin:"5px 0",borderRadius:10},topSection:{display:"flex",flexDirection:"row",margin:"5px 0"},bottomSection:{marginTop:5}}})),Si=function(e){var t=e.fieldTitle,n=void 0===t?"Type":t,a=e.valueTitle,r=void 0===a?"Price":a,c=e.title,i=e.value,o=e.onValueChange,s=e.onRemove,l=e.id,d=e.description,u=e.richTextBox,j=Ii();return Object(It.jsxs)("div",{className:j.container,children:[Object(It.jsxs)("div",{className:j.topSection,children:[Object(It.jsx)(Gn.a,{className:j.textField,placeholder:n,onChange:function(e){return o(e.target.value,l)},value:c,label:n,fullWidth:!0}),Object(It.jsx)(Gn.a,{className:j.textField,placeholder:r,onChange:function(e){return o(e.target.value,l,"price")},value:i,label:u?r+" (optional)":r,type:"number",fullWidth:!0}),Object(It.jsx)(Fa,{title:"Remove",onClick:function(){return s(l)},children:Object(It.jsx)(ki,{})})]}),u&&Object(It.jsx)("div",{className:j.bottomSection,children:Object(It.jsx)(mi,{title:"Description",placeholder:"Description",onTextChange:function(e,t){return o(t,l,e)},funcArg:"description",value:d})})]})},wi=Object(ct.a)((function(){return{textField:{margin:"0 5px 5px 5px"},container:{margin:"10px 0",padding:10},containerItems:{display:"flex",alignItems:"center",marginBottom:10,justifyContent:"space-between"},containerItem:{display:"flex",flexDirection:"row",margin:"5px 0"},displayFlex:{display:"flex",alignItems:"center"}}})),Ni=function(){var e=Object(o.c)(),t=wi(),n=Object(o.d)((function(e){return e.service.cleaning.frequency})),r=Object(a.useState)([]),c=Object(Xt.a)(r,2),i=c[0],s=c[1];Object(a.useEffect)((function(){s(n)}),[n]);var l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"name",a=Object(B.a)(i);a[t]=Object(I.a)(Object(I.a)({},a[t]),{},Object(_.a)({},n,e)),s(a)},d=function(e){return s(Object(B.a)(i).filter((function(t,n){return n!==e})))};return Object(It.jsxs)(ya.a,{className:t.container,children:[Object(It.jsxs)("div",{className:t.containerItems,children:[Object(It.jsxs)("div",{className:t.displayFlex,children:[Object(It.jsx)(yi,{title:"Frequencies"}),Object(It.jsx)(Fa,{title:"New",onClick:function(){return s([].concat(Object(B.a)(i),[{name:"",price:0}]))},children:Object(It.jsx)(hi,{})})]}),Object(It.jsx)("div",{children:Object(It.jsx)(Fa,{title:"Save",onClick:function(){return e(La({key:"frequency",value:i}))},children:Object(It.jsx)(vi,{})})})]}),Object(It.jsx)("div",{className:t.bottomContainer,children:i.map((function(e,t){return Object(It.jsx)(Si,{fieldTitle:"Type",title:e.name,value:e.price,onKeyValueChange:l,onValueChange:l,onRemove:d,id:t},t)}))})]})},Di=Object(ct.a)((function(){return{textField:{margin:"0 5px 5px 5px"},container:{margin:"10px 0",padding:10},containerItems:{display:"flex",alignItems:"center",marginBottom:10,justifyContent:"space-between"},containerItem:{display:"flex",flexDirection:"row",margin:"5px 0"},displayFlex:{display:"flex",alignItems:"center"}}})),Ti=function(){var e=Object(o.c)(),t=Di(),n=Object(o.d)((function(e){return e.service.cleaning.hour})),r=Object(a.useState)([]),c=Object(Xt.a)(r,2),i=c[0],s=c[1];Object(a.useEffect)((function(){s(n)}),[n]);var l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"number",a=Object(B.a)(i);a[t]=Object(I.a)(Object(I.a)({},a[t]),{},Object(_.a)({},n,e)),s(a)},d=function(e){return s(Object(B.a)(i).filter((function(t,n){return n!==e})))};return Object(It.jsxs)(ya.a,{className:t.container,children:[Object(It.jsxs)("div",{className:t.containerItems,children:[Object(It.jsxs)("div",{className:t.displayFlex,children:[Object(It.jsx)(yi,{title:"Hours"}),Object(It.jsx)(Fa,{title:"New",onClick:function(){return s([].concat(Object(B.a)(i),[{number:0,price:0}]))},children:Object(It.jsx)(hi,{})})]}),Object(It.jsx)("div",{children:Object(It.jsx)(Fa,{title:"Save",onClick:function(){return e(La({key:"hour",value:i}))},children:Object(It.jsx)(vi,{})})})]}),Object(It.jsx)("div",{className:t.bottomContainer,children:i.map((function(e,t){return Object(It.jsx)(Si,{fieldTitle:"Hour",title:e.number,value:e.price,onKeyValueChange:l,onValueChange:l,onRemove:d,id:t},t)}))})]})},Ei=Object(ct.a)((function(){return{textField:{margin:"0 5px 5px 5px"},container:{margin:"10px 0",padding:10},containerItems:{display:"flex",alignItems:"center",marginBottom:10,justifyContent:"space-between"},containerItem:{display:"flex",flexDirection:"row",margin:"5px 0"},displayFlex:{display:"flex",alignItems:"center"}}})),Ai=function(){var e=Object(o.c)(),t=Ei(),n=Object(o.d)((function(e){return e.service.cleaning.staff})),r=Object(a.useState)([]),c=Object(Xt.a)(r,2),i=c[0],s=c[1];Object(a.useEffect)((function(){s(n)}),[n]);var l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"number",a=Object(B.a)(i);a[t]=Object(I.a)(Object(I.a)({},a[t]),{},Object(_.a)({},n,e)),console.log(a),s(a)},d=function(e){return s(Object(B.a)(i).filter((function(t,n){return n!==e})))};return Object(It.jsxs)(ya.a,{className:t.container,children:[Object(It.jsxs)("div",{className:t.containerItems,children:[Object(It.jsxs)("div",{className:t.displayFlex,children:[Object(It.jsx)(yi,{title:"Staffs"}),Object(It.jsx)(Fa,{title:"New",onClick:function(){return s([].concat(Object(B.a)(i),[{number:0,price:0}]))},children:Object(It.jsx)(hi,{})})]}),Object(It.jsx)("div",{children:Object(It.jsx)(Fa,{title:"Save",onClick:function(){return e(La({key:"staff",value:i}))},children:Object(It.jsx)(vi,{})})})]}),Object(It.jsx)("div",{className:t.bottomContainer,children:i.map((function(e,t){return Object(It.jsx)(Si,{fieldTitle:"Staff",title:e.number,value:e.price,onKeyValueChange:l,onValueChange:l,onRemove:d,id:t},t)}))})]})},_i=Object(ct.a)((function(){return{textField:{margin:"0 5px 5px 5px"},container:{margin:"10px 0",padding:10},containerItems:{display:"flex",alignItems:"center",marginBottom:10,justifyContent:"space-between"},containerItem:{display:"flex",flexDirection:"row",margin:"5px 0"},displayFlex:{display:"flex",alignItems:"center"}}})),Bi=function(){var e=Object(o.c)(),t=_i(),n=Object(o.d)((function(e){return e.service.cleaning.detail})),r=Object(a.useState)([]),c=Object(Xt.a)(r,2),i=c[0],s=c[1];Object(a.useEffect)((function(){s(n)}),[n]);var l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"name",a=Object(B.a)(i);a[t]=Object(I.a)(Object(I.a)({},a[t]),{},Object(_.a)({},n,e)),s(a)},d=function(e){return s(Object(B.a)(i).filter((function(t,n){return n!==e})))};return Object(It.jsxs)(ya.a,{className:t.container,children:[Object(It.jsxs)("div",{className:t.containerItems,children:[Object(It.jsxs)("div",{className:t.displayFlex,children:[Object(It.jsx)(yi,{title:"Details"}),Object(It.jsx)(Fa,{title:"New",onClick:function(){return s([].concat(Object(B.a)(i),[{name:"",description:"",price:0}]))},children:Object(It.jsx)(hi,{})})]}),Object(It.jsx)("div",{children:Object(It.jsx)(Fa,{title:"Save",onClick:function(){return e(La({key:"detail",value:i}))},children:Object(It.jsx)(vi,{})})})]}),Object(It.jsx)("div",{className:t.bottomContainer,children:i.map((function(e,t){return Object(It.jsx)(Si,{fieldTitle:"Type",title:e.name,value:e.price,onValueChange:l,onRemove:d,id:t,richTextBox:!0,description:e.description},t)}))})]})},Ri=function(){return Object(It.jsxs)(r.a.Fragment,{children:[Object(It.jsx)(Ni,{}),Object(It.jsx)(Ti,{}),Object(It.jsx)(Ai,{}),Object(It.jsx)(Bi,{})]})},Li=Object(ct.a)((function(){return{imageContainer:{alignItems:"center",textAlign:"center",marginTop:10},textCenter:{textAlign:"center",padding:5},submitButton:{textAlign:"right",margin:"20px 0"},formContainer:{marginTop:20},bottomSection:{marginTop:20},largeTextField:{margin:"10px 0"},cancelButton:{marginRight:10},categoryDropdown:{marginLeft:30},titleContainer:{display:"flex",alignItems:"center"},container:{margin:"10px 0",padding:10},containerItems:{marginTop:10,display:"flex"},textField:{margin:"0 5px 5px 5px"},coverImageContainer:{position:"relative"},coverImageIcon:{position:"absolute",right:10,top:10}}})),Ui=function(){var e=Li(),t=Object(o.c)(),n=Object(b.i)(),r=Object(b.h)(),c=n.serviceId,i=Object(a.useState)({mongoID:null,categoryId:"",title:"",description:"",price:0,discount:0}),s=Object(Xt.a)(i,2),l=s[0],j=s[1],p=Object(a.useState)(null),O=Object(Xt.a)(p,2),x=O[0],m=O[1],f=Object(a.useState)(null),h=Object(Xt.a)(f,2),g=h[0],v=h[1],y=Object(a.useState)([]),C=Object(Xt.a)(y,2),k=C[0],S=C[1],w=Object(a.useState)({mongoID:null,categoryId:"",title:"",description:"",price:"",discount:""}),N=Object(Xt.a)(w,2),D=N[0],T=N[1],E=Object(o.d)((function(e){return e.service.data})),A=Object(o.d)((function(e){return e.service.cleaning}));Object(a.useEffect)((function(){return function(){T({mongoID:null,categoryId:"",title:"",description:"",price:0,discount:0}),j({mongoID:null,categoryId:"",title:"",description:"",price:"",discount:""}),m(""),v(""),S([]),t({type:G})}}),[c,t]),Object(a.useEffect)((function(){if("create"!==c){var e=E.findIndex((function(e){return e._id===c}));if(-1!==e){var n=E[e];j({mongoID:n._id,categoryId:n.categoryId._id,title:n.title,description:n.description,price:n.price,discount:n.discount}),t(La({data:{frequency:n.frequencies,hour:n.hours,staff:n.staffs,detail:n.details},multiple:!0})),v(n.image),S(n.coverImage)}}}),[c,E,t]);var B=function(e){return R(e.target.name,e.target.value)},R=function(e,t){return j(Object(I.a)(Object(I.a)({},l),{},Object(_.a)({},e,t)))},L=function(){var e=Object(u.a)(d.a.mark((function e(n){var a,r,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),T({mongoID:null,categoryId:"",title:"",description:"",price:"",discount:""}),!l.mongoID){e.next=7;break}if(x||g){e.next=5;break}return e.abrupt("return",T(Object(I.a)(Object(I.a)({},D),{},{image:"Please select an image."})));case 5:e.next=10;break;case 7:if(l.mongoID){e.next=10;break}if(x&&g){e.next=10;break}return e.abrupt("return",T(Object(I.a)(Object(I.a)({},D),{},{image:"Please select an image."})));case 10:if(""!==l.title&&""!==l.description&&""!==l.categoryId){e.next=16;break}return a={},""===l.title&&(a.title="Invalid title!"),""===l.description&&(a.description="Invalid description!"),""===l.categoryId&&(a.categoryId="Invalid Main Service!"),e.abrupt("return",T(Object(I.a)(Object(I.a)({},D),a)));case 16:if(r=new FormData,x&&r.append("image",x),r.append("categoryId",l.categoryId),r.append("title",l.title),r.append("description",l.description),r.append("price",l.price),r.append("discount",l.discount),r.append("frequencies",JSON.stringify(A.frequency)),r.append("hours",JSON.stringify(A.hour)),r.append("staffs",JSON.stringify(A.staff)),r.append("details",JSON.stringify(A.detail)),!l.mongoID){e.next=34;break}return e.next=30,_t("/service/".concat(l.mongoID),"patch",r);case 30:(c=e.sent)&&t(Ra({data:c.data.service,id:l.mongoID})),e.next=38;break;case 34:return e.next=36,_t("/service","post",r);case 36:(i=e.sent)&&t((o=i.data.service,{type:F,payload:o}));case 38:U();case 39:case"end":return e.stop()}var o}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){return r("/admin/services")},W=function(){var e=Object(u.a)(d.a.mark((function e(n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_t("/service/coverImage/".concat(l.mongoID,"/index/").concat(n),"put");case 3:a=e.sent,console.log(a),a&&t(Ra({data:a.data.service,id:l.mongoID})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),P=Object(It.jsx)(Bi,{});return"6034864cc539ac08fd7c90e1"===l.categoryId&&(P=Object(It.jsx)(Ri,{})),Object(It.jsx)(Jt,{className:e.root,title:"Create New Sub Service",children:Object(It.jsxs)(qt.a,{maxWidth:!1,children:[Object(It.jsx)(ea,{hideAddButton:!0,component:Object(It.jsx)("div",{children:Object(It.jsx)(Fa,{title:"Back",onClick:U,children:Object(It.jsx)(si.a,{})})}),backTitle:l.mongoID?"Update Sub Service":"Create New Sub Service"}),Object(It.jsxs)("form",{onSubmit:L,children:[Object(It.jsxs)(Bn.a,{container:!0,spacing:2,className:e.formContainer,children:[Object(It.jsxs)(Bn.a,{item:!0,sm:12,md:8,children:[Object(It.jsx)("input",{name:"serviceImage",id:"serviceImage",type:"file",hidden:!0,accept:"image/*",onChange:function(e){if(e.target.files[0]){m(e.target.files[0]);var t=new FileReader;t.addEventListener("load",(function(){v(t.result)})),t.readAsDataURL(e.target.files[0])}}}),Object(It.jsx)(Ua,{extraLarge:!0,image:g}),Object(It.jsx)(Fa,{onClick:function(){return document.getElementById("serviceImage").click()},title:"Choose Image",children:Object(It.jsx)(ii.a,{color:"primary"})}),Object(It.jsx)(li,{error:D.image}),Object(It.jsxs)("div",{className:e.titleContainer,children:[Object(It.jsx)(Gn.a,{className:e.textField,value:l.title,name:"title",onChange:B,error:!!D.title,helperText:D.title,label:"Title",pattern:"^\\w+(\\s+\\w+)*$",fullWidth:!0}),Object(It.jsx)("div",{className:e.categoryDropdown,children:Object(It.jsx)(ri,{category:l.categoryId,onChange:function(e){return R("categoryId",e.target.value)},error:D.categoryId})})]}),Object(It.jsx)(ya.a,{className:e.container,children:Object(It.jsx)("div",{className:e.containerItems,children:[{funcArg:"price",placeholder:"Service Price",title:"Service Price"},{funcArg:"discount",placeholder:"Discount on final price?",title:"Discount on final price?"}].map((function(t,n){return Object(It.jsx)(Gn.a,{name:t.funcArg,value:l[t.funcArg],label:t.title,placeholder:t.placeholder,className:e.textField,onChange:B,type:"number",fullWidth:!0},n)}))})}),Object(It.jsx)(mi,{title:"Description",placeholder:"Item description",onTextChange:R,funcArg:"description",error:D.description,value:l.description}),P]}),Object(It.jsx)(Bn.a,{item:!0,sm:12,md:4,children:l.mongoID&&Object(It.jsx)(Bn.a,{container:!0,spacing:3,style:{marginTop:20},children:k.map((function(t,n){return Object(It.jsxs)(Bn.a,{item:!0,md:6,sm:12,className:e.coverImageContainer,children:[Object(It.jsx)("img",{alt:"cover slide",src:t,style:{borderRadius:10,width:"100%",height:"100%"}}),Object(It.jsx)(Fa,{title:"Delete Image",onClick:function(){return W(n)},btnClass:e.coverImageIcon,children:Object(It.jsx)(Va,{})})]},n)}))})})]}),Object(It.jsxs)(Bn.a,{item:!0,sm:8,className:e.submitButton,children:[Object(It.jsx)(pn.a,{variant:"contained",className:e.cancelButton,onClick:U,children:"Cancel"}),Object(It.jsx)(pn.a,{variant:"contained",color:"primary",type:"submit",children:l.mongoID?"Update":"Submit"})]})]})]})})},Fi=[{path:"admin",element:Object(It.jsx)(_n,{}),children:[{path:"account",element:Object(It.jsx)(Dt,{path:"/admin",component:Qn})},{path:"categories",element:Object(It.jsx)(Dt,{path:"/admin",component:Tc})},{path:"banners",element:Object(It.jsx)(Dt,{path:"/admin",component:Bc})},{path:"tutorials",element:Object(It.jsx)(Dt,{path:"/admin",component:$c})},{path:"video/:tutorialId",element:Object(It.jsx)(Dt,{path:"/admin",component:ti})},{path:"staff",element:Object(It.jsx)(Dt,{path:"/admin",component:Ic})},{path:"customers",element:Object(It.jsx)(Dt,{path:"/admin",component:pa})},{path:"vendors",element:Object(It.jsx)(Dt,{path:"/admin",component:xc})},{path:"vendors/:vendorId",element:Object(It.jsx)(Dt,{path:"/admin",component:pc})},{path:"dashboard",element:Object(It.jsx)(Dt,{path:"/admin",component:Ta})},{path:"services",element:Object(It.jsx)(Dt,{path:"/admin",component:or})},{path:"bookings",element:Object(It.jsx)(Dt,{path:"/admin",component:Hr})},{path:"cleaning-bookings",element:Object(It.jsx)(Dt,{path:"/admin",component:tc})},{path:"booking/analytic",element:Object(It.jsx)(Dt,{path:"/admin",component:ic})},{path:"settings",element:Object(It.jsx)(Dt,{path:"/admin",component:pc})},{path:"service/new/:serviceId",element:Object(It.jsx)(Dt,{path:"/admin",component:Ui})},{path:"*",element:Object(It.jsx)(b.a,{to:"/404"})}]},{path:"/",element:Object(It.jsx)(Gt,{}),children:[{path:"login",element:Object(It.jsx)(wt,{path:"/login",component:Ba})},{path:"404",element:Object(It.jsx)(Kt,{})},{path:"*",element:Object(It.jsx)(b.a,{to:"/404"})}]}],Wi=[{path:"partners",element:Object(It.jsx)(_n,{}),children:[{path:"account",element:Object(It.jsx)(Dt,{path:"/partners",component:Qn})},{path:"dashboard",element:Object(It.jsx)(Dt,{path:"/partners",component:Ta})},{path:"staff",element:Object(It.jsx)(Dt,{path:"/partners",component:Ic})},{path:"services",element:Object(It.jsx)(Dt,{path:"/partners",component:or})},{path:"bookings",element:Object(It.jsx)(Dt,{path:"/partners",component:Hr})},{path:"settings",element:Object(It.jsx)(Dt,{path:"/partners",component:pc})},{path:"*",element:Object(It.jsx)(b.a,{to:"/404"})}]},{path:"/",element:Object(It.jsx)(Gt,{}),children:[{path:"login",element:Object(It.jsx)(wt,{path:"/login",component:Ba})},{path:"404",element:Object(It.jsx)(Kt,{})},{path:"*",element:Object(It.jsx)(b.a,{to:"/404"})}]}],Pi=[{path:"login",element:Object(It.jsx)(Ba,{})},{path:"*",element:Object(It.jsx)(b.a,{to:"/login"})}],Mi=n(985),Vi=n(1078),Gi=n(1077),zi=function(){var e=Object(o.c)(),t=Object(o.d)((function(e){return e.UI})),n=t.isSnackOpen,a=t.type,r=t.message,c=function(){e({type:Xe})};return Object(It.jsx)(Mi.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:n,autoHideDuration:6e3,onClose:c,children:Object(It.jsxs)(Vi.a,{severity:a,onClose:c,variant:"filled",children:[Object(It.jsx)(Gi.a,{children:a}),r]})})};x.a.defaults.baseURL=pt,x.a.interceptors.request.use((function(e){return e}),(function(e){})),x.a.interceptors.response.use((function(e){var t=e.config.method;if("post"===t||"put"===t||"delete"===t||"patch"===t){var n={message:e.data.message,type:"success"};at.dispatch(rt(n))}return e}),(function(e){var t,n,a={message:null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message,type:"error"};return at.dispatch(rt(a)),Promise.reject(e)}));var qi=function(){var e,t=localStorage.getItem("token"),n=localStorage.getItem("userType"),r=Object(o.c)();e=n===Ot?Fi:"VENDOR_USER"===n?Wi:Pi;var c=Object(b.k)(e),i=Object(o.d)((function(e){return e.admin.isAuth}));return Object(a.useEffect)((function(){t&&n&&r(v({token:t,userType:n}))}),[t,n,r]),Object(a.useEffect)((function(){i&&function(){var e=Object(u.a)(d.a.mark((function e(){var t,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n===Ot?"/admin":"/vendor/data",e.next=4,x.a.get(t);case 4:a=e.sent,c=a.data,r(y(c.data.admin)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()()}),[i,n,r]),Object(It.jsxs)(m.a,{theme:bt,children:[Object(It.jsx)(st,{}),c,Object(It.jsx)(p.a,{}),Object(It.jsx)(zi,{})]})},Hi=(n(986),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1079)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))});i.a.render(Object(It.jsx)(r.a.StrictMode,{children:Object(It.jsx)(o.a,{store:at,children:Object(It.jsx)(s.a,{children:Object(It.jsx)(qi,{})})})}),document.getElementById("root")),Hi()}},[[987,1,2]]]);
//# sourceMappingURL=main.522ee727.chunk.js.map